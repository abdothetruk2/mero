(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ti(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const te={},tr=[],Xe=()=>{},Nl=()=>!1,xs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ri=t=>t.startsWith("onUpdate:"),fe=Object.assign,si=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Bl=Object.prototype.hasOwnProperty,G=(t,e)=>Bl.call(t,e),M=Array.isArray,rr=t=>Ts(t)==="[object Map]",Ho=t=>Ts(t)==="[object Set]",U=t=>typeof t=="function",ue=t=>typeof t=="string",St=t=>typeof t=="symbol",ae=t=>t!==null&&typeof t=="object",Wo=t=>(ae(t)||U(t))&&U(t.then)&&U(t.catch),Vo=Object.prototype.toString,Ts=t=>Vo.call(t),Fl=t=>Ts(t).slice(8,-1),Yo=t=>Ts(t)==="[object Object]",ni=t=>ue(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,kr=ti(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ks=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},ql=/-(\w)/g,Et=ks(t=>t.replace(ql,(e,r)=>r?r.toUpperCase():"")),Hl=/\B([A-Z])/g,Wt=ks(t=>t.replace(Hl,"-$1").toLowerCase()),zo=ks(t=>t.charAt(0).toUpperCase()+t.slice(1)),zs=ks(t=>t?`on${zo(t)}`:""),Tt=(t,e)=>!Object.is(t,e),ns=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Ko=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},Tn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ii;const Es=()=>Ii||(Ii=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ss(t){if(M(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=ue(s)?zl(s):Ss(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(ue(t)||ae(t))return t}const Wl=/;(?![^(]*\))/g,Vl=/:([^]+)/,Yl=/\/\*[^]*?\*\//g;function zl(t){const e={};return t.replace(Yl,"").split(Wl).forEach(r=>{if(r){const s=r.split(Vl);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Be(t){let e="";if(ue(t))e=t;else if(M(t))for(let r=0;r<t.length;r++){const s=Be(t[r]);s&&(e+=s+" ")}else if(ae(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Kl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jl=ti(Kl);function Jo(t){return!!t||t===""}const Go=t=>!!(t&&t.__v_isRef===!0),xe=t=>ue(t)?t:t==null?"":M(t)||ae(t)&&(t.toString===Vo||!U(t.toString))?Go(t)?xe(t.value):JSON.stringify(t,Qo,2):String(t),Qo=(t,e)=>Go(e)?Qo(t,e.value):rr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],i)=>(r[Ks(s,i)+" =>"]=n,r),{})}:Ho(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Ks(r))}:St(e)?Ks(e):ae(e)&&!M(e)&&!Yo(e)?String(e):e,Ks=(t,e="")=>{var r;return St(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ue;class Gl{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ue,!e&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ue;try{return Ue=this,e()}finally{Ue=r}}}on(){Ue=this}off(){Ue=this.parent}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Ql(){return Ue}let ne;const Js=new WeakSet;class Xo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ue&&Ue.active&&Ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Js.has(this)&&(Js.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ea(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ji(this),ta(this);const e=ne,r=Ze;ne=this,Ze=!0;try{return this.fn()}finally{ra(this),ne=e,Ze=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ai(e);this.deps=this.depsTail=void 0,ji(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Js.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kn(this)&&this.run()}get dirty(){return kn(this)}}let Zo=0,Er,Sr;function ea(t,e=!1){if(t.flags|=8,e){t.next=Sr,Sr=t;return}t.next=Er,Er=t}function ii(){Zo++}function oi(){if(--Zo>0)return;if(Sr){let e=Sr;for(Sr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Er;){let e=Er;for(Er=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function ta(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ra(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),ai(s),Xl(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function kn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(sa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function sa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ir))return;t.globalVersion=Ir;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!kn(t)){t.flags&=-3;return}const r=ne,s=Ze;ne=t,Ze=!0;try{ta(t);const n=t.fn(t._value);(e.version===0||Tt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ne=r,Ze=s,ra(t),t.flags&=-3}}function ai(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)ai(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Xl(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ze=!0;const na=[];function Ot(){na.push(Ze),Ze=!1}function Ct(){const t=na.pop();Ze=t===void 0?!0:t}function ji(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=ne;ne=void 0;try{e()}finally{ne=r}}}let Ir=0;class Zl{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class li{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ne||!Ze||ne===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ne)r=this.activeLink=new Zl(ne,this),ne.deps?(r.prevDep=ne.depsTail,ne.depsTail.nextDep=r,ne.depsTail=r):ne.deps=ne.depsTail=r,ia(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=ne.depsTail,r.nextDep=void 0,ne.depsTail.nextDep=r,ne.depsTail=r,ne.deps===r&&(ne.deps=s)}return r}trigger(e){this.version++,Ir++,this.notify(e)}notify(e){ii();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{oi()}}}function ia(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)ia(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const En=new WeakMap,Nt=Symbol(""),Sn=Symbol(""),jr=Symbol("");function me(t,e,r){if(Ze&&ne){let s=En.get(t);s||En.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new li),n.map=s,n.key=r),n.track()}}function ft(t,e,r,s,n,i){const o=En.get(t);if(!o){Ir++;return}const a=l=>{l&&l.trigger()};if(ii(),e==="clear")o.forEach(a);else{const l=M(t),u=l&&ni(r);if(l&&r==="length"){const c=Number(s);o.forEach((h,p)=>{(p==="length"||p===jr||!St(p)&&p>=c)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),u&&a(o.get(jr)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Nt)),rr(t)&&a(o.get(Sn)));break;case"delete":l||(a(o.get(Nt)),rr(t)&&a(o.get(Sn)));break;case"set":rr(t)&&a(o.get(Nt));break}}oi()}function zt(t){const e=J(t);return e===t?e:(me(e,"iterate",jr),We(t)?e:e.map(ve))}function Os(t){return me(t=J(t),"iterate",jr),t}const ec={__proto__:null,[Symbol.iterator](){return Gs(this,Symbol.iterator,ve)},concat(...t){return zt(this).concat(...t.map(e=>M(e)?zt(e):e))},entries(){return Gs(this,"entries",t=>(t[1]=ve(t[1]),t))},every(t,e){return ut(this,"every",t,e,void 0,arguments)},filter(t,e){return ut(this,"filter",t,e,r=>r.map(ve),arguments)},find(t,e){return ut(this,"find",t,e,ve,arguments)},findIndex(t,e){return ut(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ut(this,"findLast",t,e,ve,arguments)},findLastIndex(t,e){return ut(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ut(this,"forEach",t,e,void 0,arguments)},includes(...t){return Qs(this,"includes",t)},indexOf(...t){return Qs(this,"indexOf",t)},join(t){return zt(this).join(t)},lastIndexOf(...t){return Qs(this,"lastIndexOf",t)},map(t,e){return ut(this,"map",t,e,void 0,arguments)},pop(){return gr(this,"pop")},push(...t){return gr(this,"push",t)},reduce(t,...e){return Mi(this,"reduce",t,e)},reduceRight(t,...e){return Mi(this,"reduceRight",t,e)},shift(){return gr(this,"shift")},some(t,e){return ut(this,"some",t,e,void 0,arguments)},splice(...t){return gr(this,"splice",t)},toReversed(){return zt(this).toReversed()},toSorted(t){return zt(this).toSorted(t)},toSpliced(...t){return zt(this).toSpliced(...t)},unshift(...t){return gr(this,"unshift",t)},values(){return Gs(this,"values",ve)}};function Gs(t,e,r){const s=Os(t),n=s[e]();return s!==t&&!We(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=r(i.value)),i}),n}const tc=Array.prototype;function ut(t,e,r,s,n,i){const o=Os(t),a=o!==t&&!We(t),l=o[e];if(l!==tc[e]){const h=l.apply(t,i);return a?ve(h):h}let u=r;o!==t&&(a?u=function(h,p){return r.call(this,ve(h),p,t)}:r.length>2&&(u=function(h,p){return r.call(this,h,p,t)}));const c=l.call(o,u,s);return a&&n?n(c):c}function Mi(t,e,r,s){const n=Os(t);let i=r;return n!==t&&(We(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,ve(a),l,t)}),n[e](i,...s)}function Qs(t,e,r){const s=J(t);me(s,"iterate",jr);const n=s[e](...r);return(n===-1||n===!1)&&di(r[0])?(r[0]=J(r[0]),s[e](...r)):n}function gr(t,e,r=[]){Ot(),ii();const s=J(t)[e].apply(t,r);return oi(),Ct(),s}const rc=ti("__proto__,__v_isRef,__isVue"),oa=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(St));function sc(t){St(t)||(t=String(t));const e=J(this);return me(e,"has",t),e.hasOwnProperty(t)}class aa{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?fc:ha:i?ua:ca).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=M(e);if(!n){let l;if(o&&(l=ec[r]))return l;if(r==="hasOwnProperty")return sc}const a=Reflect.get(e,r,ye(e)?e:s);return(St(r)?oa.has(r):rc(r))||(n||me(e,"get",r),i)?a:ye(a)?o&&ni(r)?a:a.value:ae(a)?n?da(a):ui(a):a}}class la extends aa{constructor(e=!1){super(!1,e)}set(e,r,s,n){let i=e[r];if(!this._isShallow){const l=Ft(i);if(!We(s)&&!Ft(s)&&(i=J(i),s=J(s)),!M(e)&&ye(i)&&!ye(s))return l?!1:(i.value=s,!0)}const o=M(e)&&ni(r)?Number(r)<e.length:G(e,r),a=Reflect.set(e,r,s,ye(e)?e:n);return e===J(n)&&(o?Tt(s,i)&&ft(e,"set",r,s):ft(e,"add",r,s)),a}deleteProperty(e,r){const s=G(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&ft(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!St(r)||!oa.has(r))&&me(e,"has",r),s}ownKeys(e){return me(e,"iterate",M(e)?"length":Nt),Reflect.ownKeys(e)}}class nc extends aa{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const ic=new la,oc=new nc,ac=new la(!0);const On=t=>t,zr=t=>Reflect.getPrototypeOf(t);function lc(t,e,r){return function(...s){const n=this.__v_raw,i=J(n),o=rr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...s),c=r?On:e?Cn:ve;return!e&&me(i,"iterate",l?Sn:Nt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function Kr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function cc(t,e){const r={get(n){const i=this.__v_raw,o=J(i),a=J(n);t||(Tt(n,a)&&me(o,"get",n),me(o,"get",a));const{has:l}=zr(o),u=e?On:t?Cn:ve;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&me(J(n),"iterate",Nt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=J(i),a=J(n);return t||(Tt(n,a)&&me(o,"has",n),me(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=J(a),u=e?On:t?Cn:ve;return!t&&me(l,"iterate",Nt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return fe(r,t?{add:Kr("add"),set:Kr("set"),delete:Kr("delete"),clear:Kr("clear")}:{add(n){!e&&!We(n)&&!Ft(n)&&(n=J(n));const i=J(this);return zr(i).has.call(i,n)||(i.add(n),ft(i,"add",n,n)),this},set(n,i){!e&&!We(i)&&!Ft(i)&&(i=J(i));const o=J(this),{has:a,get:l}=zr(o);let u=a.call(o,n);u||(n=J(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Tt(i,c)&&ft(o,"set",n,i):ft(o,"add",n,i),this},delete(n){const i=J(this),{has:o,get:a}=zr(i);let l=o.call(i,n);l||(n=J(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&ft(i,"delete",n,void 0),u},clear(){const n=J(this),i=n.size!==0,o=n.clear();return i&&ft(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=lc(n,t,e)}),r}function ci(t,e){const r=cc(t,e);return(s,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(G(r,n)&&n in s?r:s,n,i)}const uc={get:ci(!1,!1)},hc={get:ci(!1,!0)},dc={get:ci(!0,!1)};const ca=new WeakMap,ua=new WeakMap,ha=new WeakMap,fc=new WeakMap;function pc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gc(t){return t.__v_skip||!Object.isExtensible(t)?0:pc(Fl(t))}function ui(t){return Ft(t)?t:hi(t,!1,ic,uc,ca)}function mc(t){return hi(t,!1,ac,hc,ua)}function da(t){return hi(t,!0,oc,dc,ha)}function hi(t,e,r,s,n){if(!ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=gc(t);if(o===0)return t;const a=new Proxy(t,o===2?s:r);return n.set(t,a),a}function sr(t){return Ft(t)?sr(t.__v_raw):!!(t&&t.__v_isReactive)}function Ft(t){return!!(t&&t.__v_isReadonly)}function We(t){return!!(t&&t.__v_isShallow)}function di(t){return t?!!t.__v_raw:!1}function J(t){const e=t&&t.__v_raw;return e?J(e):t}function vc(t){return!G(t,"__v_skip")&&Object.isExtensible(t)&&Ko(t,"__v_skip",!0),t}const ve=t=>ae(t)?ui(t):t,Cn=t=>ae(t)?da(t):t;function ye(t){return t?t.__v_isRef===!0:!1}function ie(t){return _c(t,!1)}function _c(t,e){return ye(t)?t:new yc(t,e)}class yc{constructor(e,r){this.dep=new li,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:J(e),this._value=r?e:ve(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||We(e)||Ft(e);e=s?e:J(e),Tt(e,r)&&(this._rawValue=e,this._value=s?e:ve(e),this.dep.trigger())}}function Qe(t){return ye(t)?t.value:t}const wc={get:(t,e,r)=>e==="__v_raw"?t:Qe(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return ye(n)&&!ye(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function fa(t){return sr(t)?t:new Proxy(t,wc)}class bc{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new li(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ir-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ne!==this)return ea(this,!0),!0}get value(){const e=this.dep.track();return sa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function xc(t,e,r=!1){let s,n;return U(t)?s=t:(s=t.get,n=t.set),new bc(s,n,r)}const Jr={},ds=new WeakMap;let It;function Tc(t,e=!1,r=It){if(r){let s=ds.get(r);s||ds.set(r,s=[]),s.push(t)}}function kc(t,e,r=te){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,u=A=>n?A:We(A)||n===!1||n===0?pt(A,1):pt(A);let c,h,p,g,_=!1,E=!1;if(ye(t)?(h=()=>t.value,_=We(t)):sr(t)?(h=()=>u(t),_=!0):M(t)?(E=!0,_=t.some(A=>sr(A)||We(A)),h=()=>t.map(A=>{if(ye(A))return A.value;if(sr(A))return u(A);if(U(A))return l?l(A,2):A()})):U(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Ot();try{p()}finally{Ct()}}const A=It;It=c;try{return l?l(t,3,[g]):t(g)}finally{It=A}}:h=Xe,e&&n){const A=h,V=n===!0?1/0:n;h=()=>pt(A(),V)}const P=Ql(),D=()=>{c.stop(),P&&P.active&&si(P.effects,c)};if(i&&e){const A=e;e=(...V)=>{A(...V),D()}}let q=E?new Array(t.length).fill(Jr):Jr;const B=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(e){const V=c.run();if(n||_||(E?V.some((pe,he)=>Tt(pe,q[he])):Tt(V,q))){p&&p();const pe=It;It=c;try{const he=[V,q===Jr?void 0:E&&q[0]===Jr?[]:q,g];l?l(e,3,he):e(...he),q=V}finally{It=pe}}}else c.run()};return a&&a(B),c=new Xo(h),c.scheduler=o?()=>o(B,!1):B,g=A=>Tc(A,!1,c),p=c.onStop=()=>{const A=ds.get(c);if(A){if(l)l(A,4);else for(const V of A)V();ds.delete(c)}},e?s?B(!0):q=c.run():o?o(B.bind(null,!0),!0):c.run(),D.pause=c.pause.bind(c),D.resume=c.resume.bind(c),D.stop=D,D}function pt(t,e=1/0,r){if(e<=0||!ae(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,ye(t))pt(t.value,e,r);else if(M(t))for(let s=0;s<t.length;s++)pt(t[s],e,r);else if(Ho(t)||rr(t))t.forEach(s=>{pt(s,e,r)});else if(Yo(t)){for(const s in t)pt(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&pt(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fr(t,e,r,s){try{return s?t(...s):t()}catch(n){Cs(n,e,r)}}function lt(t,e,r,s){if(U(t)){const n=Fr(t,e,r,s);return n&&Wo(n)&&n.catch(i=>{Cs(i,e,r)}),n}if(M(t)){const n=[];for(let i=0;i<t.length;i++)n.push(lt(t[i],e,r,s));return n}}function Cs(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||te;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Ot(),Fr(i,null,10,[t,l,u]),Ct();return}}Ec(t,r,n,s,o)}function Ec(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const Te=[];let it=-1;const nr=[];let yt=null,Xt=0;const pa=Promise.resolve();let fs=null;function Sc(t){const e=fs||pa;return t?e.then(this?t.bind(this):t):e}function Oc(t){let e=it+1,r=Te.length;for(;e<r;){const s=e+r>>>1,n=Te[s],i=Mr(n);i<t||i===t&&n.flags&2?e=s+1:r=s}return e}function fi(t){if(!(t.flags&1)){const e=Mr(t),r=Te[Te.length-1];!r||!(t.flags&2)&&e>=Mr(r)?Te.push(t):Te.splice(Oc(e),0,t),t.flags|=1,ga()}}function ga(){fs||(fs=pa.then(va))}function Cc(t){M(t)?nr.push(...t):yt&&t.id===-1?yt.splice(Xt+1,0,t):t.flags&1||(nr.push(t),t.flags|=1),ga()}function Li(t,e,r=it+1){for(;r<Te.length;r++){const s=Te[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Te.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ma(t){if(nr.length){const e=[...new Set(nr)].sort((r,s)=>Mr(r)-Mr(s));if(nr.length=0,yt){yt.push(...e);return}for(yt=e,Xt=0;Xt<yt.length;Xt++){const r=yt[Xt];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}yt=null,Xt=0}}const Mr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function va(t){const e=Xe;try{for(it=0;it<Te.length;it++){const r=Te[it];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),Fr(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;it<Te.length;it++){const r=Te[it];r&&(r.flags&=-2)}it=-1,Te.length=0,ma(),fs=null,(Te.length||nr.length)&&va()}}let He=null,_a=null;function ps(t){const e=He;return He=t,_a=t&&t.type.__scopeId||null,e}function Pc(t,e=He,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&Vi(-1);const i=ps(e);let o;try{o=t(...n)}finally{ps(i),s._d&&Vi(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Gr(t,e){if(He===null)return t;const r=Ds(He),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=te]=e[n];i&&(U(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function $t(t,e,r,s){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Ot(),lt(l,r,8,[t.el,a,t,e]),Ct())}}const Ac=Symbol("_vte"),$c=t=>t.__isTeleport;function pi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,pi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ya(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function gs(t,e,r,s,n=!1){if(M(t)){t.forEach((_,E)=>gs(_,e&&(M(e)?e[E]:e),r,s,n));return}if(Or(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&gs(t,e,r,s.component.subTree);return}const i=s.shapeFlag&4?Ds(s.component):s.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===te?a.refs={}:a.refs,h=a.setupState,p=J(h),g=h===te?()=>!1:_=>G(p,_);if(u!=null&&u!==l&&(ue(u)?(c[u]=null,g(u)&&(h[u]=null)):ye(u)&&(u.value=null)),U(l))Fr(l,a,12,[o,c]);else{const _=ue(l),E=ye(l);if(_||E){const P=()=>{if(t.f){const D=_?g(l)?h[l]:c[l]:l.value;n?M(D)&&si(D,i):M(D)?D.includes(i)||D.push(i):_?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else _?(c[l]=o,g(l)&&(h[l]=o)):E&&(l.value=o,t.k&&(c[t.k]=o))};o?(P.id=-1,Me(P,r)):P()}}}Es().requestIdleCallback;Es().cancelIdleCallback;const Or=t=>!!t.type.__asyncLoader,wa=t=>t.type.__isKeepAlive;function Rc(t,e){ba(t,"a",e)}function Dc(t,e){ba(t,"da",e)}function ba(t,e,r=ke){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ps(e,s,r),r){let n=r.parent;for(;n&&n.parent;)wa(n.parent.vnode)&&Ic(s,e,r,n),n=n.parent}}function Ic(t,e,r,s){const n=Ps(e,t,s,!0);qr(()=>{si(s[e],n)},r)}function Ps(t,e,r=ke,s=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Ot();const a=Hr(r),l=lt(e,r,t,o);return a(),Ct(),l});return s?n.unshift(i):n.push(i),i}}const gt=t=>(e,r=ke)=>{(!Ur||t==="sp")&&Ps(t,(...s)=>e(...s),r)},jc=gt("bm"),As=gt("m"),Mc=gt("bu"),Lc=gt("u"),Uc=gt("bum"),qr=gt("um"),Nc=gt("sp"),Bc=gt("rtg"),Fc=gt("rtc");function qc(t,e=ke){Ps("ec",t,e)}const Hc=Symbol.for("v-ndc");function Bt(t,e,r,s){let n;const i=r&&r[s],o=M(t);if(o||ue(t)){const a=o&&sr(t);let l=!1;a&&(l=!We(t),t=Os(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?ve(t[u]):t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i&&i[a])}else if(ae(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i&&i[l])}}else n=[];return r&&(r[s]=n),n}const Pn=t=>t?Ha(t)?Ds(t):Pn(t.parent):null,Cr=fe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pn(t.parent),$root:t=>Pn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>gi(t),$forceUpdate:t=>t.f||(t.f=()=>{fi(t.update)}),$nextTick:t=>t.n||(t.n=Sc.bind(t.proxy)),$watch:t=>hu.bind(t)}),Xs=(t,e)=>t!==te&&!t.__isScriptSetup&&G(t,e),Wc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(Xs(s,e))return o[e]=1,s[e];if(n!==te&&G(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&G(u,e))return o[e]=3,i[e];if(r!==te&&G(r,e))return o[e]=4,r[e];An&&(o[e]=0)}}const c=Cr[e];let h,p;if(c)return e==="$attrs"&&me(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(r!==te&&G(r,e))return o[e]=4,r[e];if(p=l.config.globalProperties,G(p,e))return p[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:i}=t;return Xs(n,e)?(n[e]=r,!0):s!==te&&G(s,e)?(s[e]=r,!0):G(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,propsOptions:i}},o){let a;return!!r[o]||t!==te&&G(t,o)||Xs(e,o)||(a=i[0])&&G(a,o)||G(s,o)||G(Cr,o)||G(n.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:G(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Ui(t){return M(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let An=!0;function Vc(t){const e=gi(t),r=t.proxy,s=t.ctx;An=!1,e.beforeCreate&&Ni(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:_,activated:E,deactivated:P,beforeDestroy:D,beforeUnmount:q,destroyed:B,unmounted:A,render:V,renderTracked:pe,renderTriggered:he,errorCaptured:Se,serverPrefetch:F,expose:S,inheritAttrs:R,components:Ae,directives:$e,filters:Ye}=e;if(u&&Yc(u,s,null),o)for(const K in o){const Q=o[K];U(Q)&&(s[K]=Q.bind(r))}if(n){const K=n.call(r,r);ae(K)&&(t.data=ui(K))}if(An=!0,i)for(const K in i){const Q=i[K],tt=U(Q)?Q.bind(r,r):U(Q.get)?Q.get.bind(r,r):Xe,At=!U(Q)&&U(Q.set)?Q.set.bind(r):Xe,ze=Nr({get:tt,set:At});Object.defineProperty(s,K,{enumerable:!0,configurable:!0,get:()=>ze.value,set:Re=>ze.value=Re})}if(a)for(const K in a)xa(a[K],s,r,K);if(l){const K=U(l)?l.call(r):l;Reflect.ownKeys(K).forEach(Q=>{Xc(Q,K[Q])})}c&&Ni(c,t,"c");function ee(K,Q){M(Q)?Q.forEach(tt=>K(tt.bind(r))):Q&&K(Q.bind(r))}if(ee(jc,h),ee(As,p),ee(Mc,g),ee(Lc,_),ee(Rc,E),ee(Dc,P),ee(qc,Se),ee(Fc,pe),ee(Bc,he),ee(Uc,q),ee(qr,A),ee(Nc,F),M(S))if(S.length){const K=t.exposed||(t.exposed={});S.forEach(Q=>{Object.defineProperty(K,Q,{get:()=>r[Q],set:tt=>r[Q]=tt})})}else t.exposed||(t.exposed={});V&&t.render===Xe&&(t.render=V),R!=null&&(t.inheritAttrs=R),Ae&&(t.components=Ae),$e&&(t.directives=$e),F&&ya(t)}function Yc(t,e,r=Xe){M(t)&&(t=$n(t));for(const s in t){const n=t[s];let i;ae(n)?"default"in n?i=is(n.from||s,n.default,!0):i=is(n.from||s):i=is(n),ye(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Ni(t,e,r){lt(M(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function xa(t,e,r,s){let n=s.includes(".")?Ma(r,s):()=>r[s];if(ue(t)){const i=e[t];U(i)&&en(n,i)}else if(U(t))en(n,t.bind(r));else if(ae(t))if(M(t))t.forEach(i=>xa(i,e,r,s));else{const i=U(t.handler)?t.handler.bind(r):e[t.handler];U(i)&&en(n,i,t)}}function gi(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!r&&!s?l=e:(l={},n.length&&n.forEach(u=>ms(l,u,o,!0)),ms(l,e,o)),ae(e)&&i.set(e,l),l}function ms(t,e,r,s=!1){const{mixins:n,extends:i}=e;i&&ms(t,i,r,!0),n&&n.forEach(o=>ms(t,o,r,!0));for(const o in e)if(!(s&&o==="expose")){const a=zc[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const zc={data:Bi,props:Fi,emits:Fi,methods:br,computed:br,beforeCreate:be,created:be,beforeMount:be,mounted:be,beforeUpdate:be,updated:be,beforeDestroy:be,beforeUnmount:be,destroyed:be,unmounted:be,activated:be,deactivated:be,errorCaptured:be,serverPrefetch:be,components:br,directives:br,watch:Jc,provide:Bi,inject:Kc};function Bi(t,e){return e?t?function(){return fe(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function Kc(t,e){return br($n(t),$n(e))}function $n(t){if(M(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function be(t,e){return t?[...new Set([].concat(t,e))]:e}function br(t,e){return t?fe(Object.create(null),t,e):e}function Fi(t,e){return t?M(t)&&M(e)?[...new Set([...t,...e])]:fe(Object.create(null),Ui(t),Ui(e??{})):e}function Jc(t,e){if(!t)return e;if(!e)return t;const r=fe(Object.create(null),t);for(const s in e)r[s]=be(t[s],e[s]);return r}function Ta(){return{app:null,config:{isNativeTag:Nl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gc=0;function Qc(t,e){return function(s,n=null){U(s)||(s=fe({},s)),n!=null&&!ae(n)&&(n=null);const i=Ta(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Gc++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:$u,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(u,...h)):U(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||oe(s,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),h&&e?e(g,c):t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,Ds(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(lt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=ir;ir=u;try{return c()}finally{ir=h}}};return u}}let ir=null;function Xc(t,e){if(ke){let r=ke.provides;const s=ke.parent&&ke.parent.provides;s===r&&(r=ke.provides=Object.create(s)),r[t]=e}}function is(t,e,r=!1){const s=ke||He;if(s||ir){const n=ir?ir._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&U(e)?e.call(s&&s.proxy):e}}const ka={},Ea=()=>Object.create(ka),Sa=t=>Object.getPrototypeOf(t)===ka;function Zc(t,e,r,s=!1){const n={},i=Ea();t.propsDefaults=Object.create(null),Oa(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=s?n:mc(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function eu(t,e,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=J(n),[l]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if($s(t.emitsOptions,p))continue;const g=e[p];if(l)if(G(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const _=Et(p);n[_]=Rn(l,a,_,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Oa(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!G(e,h)&&((c=Wt(h))===h||!G(e,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(n[h]=Rn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!G(e,h))&&(delete i[h],u=!0)}u&&ft(t.attrs,"set","")}function Oa(t,e,r,s){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(kr(l))continue;const u=e[l];let c;n&&G(n,c=Et(l))?!i||!i.includes(c)?r[c]=u:(a||(a={}))[c]=u:$s(t.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=J(r),u=a||te;for(let c=0;c<i.length;c++){const h=i[c];r[h]=Rn(n,l,h,u[h],t,!G(u,h))}}return o}function Rn(t,e,r,s,n,i){const o=t[r];if(o!=null){const a=G(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:u}=n;if(r in u)s=u[r];else{const c=Hr(n);s=u[r]=l.call(null,e),c()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Wt(r))&&(s=!0))}return s}const tu=new WeakMap;function Ca(t,e,r=!1){const s=r?tu:e.propsCache,n=s.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!U(t)){const c=h=>{l=!0;const[p,g]=Ca(h,e,!0);fe(o,p),g&&a.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ae(t)&&s.set(t,tr),tr;if(M(i))for(let c=0;c<i.length;c++){const h=Et(i[c]);qi(h)&&(o[h]=te)}else if(i)for(const c in i){const h=Et(c);if(qi(h)){const p=i[c],g=o[h]=M(p)||U(p)?{type:p}:fe({},p),_=g.type;let E=!1,P=!0;if(M(_))for(let D=0;D<_.length;++D){const q=_[D],B=U(q)&&q.name;if(B==="Boolean"){E=!0;break}else B==="String"&&(P=!1)}else E=U(_)&&_.name==="Boolean";g[0]=E,g[1]=P,(E||G(g,"default"))&&a.push(h)}}const u=[o,a];return ae(t)&&s.set(t,u),u}function qi(t){return t[0]!=="$"&&!kr(t)}const Pa=t=>t[0]==="_"||t==="$stable",mi=t=>M(t)?t.map(ot):[ot(t)],ru=(t,e,r)=>{if(e._n)return e;const s=Pc((...n)=>mi(e(...n)),r);return s._c=!1,s},Aa=(t,e,r)=>{const s=t._ctx;for(const n in t){if(Pa(n))continue;const i=t[n];if(U(i))e[n]=ru(n,i,s);else if(i!=null){const o=mi(i);e[n]=()=>o}}},$a=(t,e)=>{const r=mi(e);t.slots.default=()=>r},Ra=(t,e,r)=>{for(const s in e)(r||s!=="_")&&(t[s]=e[s])},su=(t,e,r)=>{const s=t.slots=Ea();if(t.vnode.shapeFlag&32){const n=e._;n?(Ra(s,e,r),r&&Ko(s,"_",n,!0)):Aa(e,s)}else e&&$a(t,e)},nu=(t,e,r)=>{const{vnode:s,slots:n}=t;let i=!0,o=te;if(s.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:Ra(n,e,r):(i=!e.$stable,Aa(e,n)),o=e}else e&&($a(t,e),o={default:1});if(i)for(const a in n)!Pa(a)&&o[a]==null&&delete n[a]},Me=_u;function iu(t){return ou(t)}function ou(t,e){const r=Es();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Xe,insertStaticContent:_}=t,E=(d,f,m,b=null,y=null,w=null,O=void 0,k=null,T=!!f.dynamicChildren)=>{if(d===f)return;d&&!mr(d,f)&&(b=Yr(d),Re(d,y,w,!0),d=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:x,ref:I,shapeFlag:C}=f;switch(x){case Rs:P(d,f,m,b);break;case qt:D(d,f,m,b);break;case rn:d==null&&q(f,m,b,O);break;case _e:Ae(d,f,m,b,y,w,O,k,T);break;default:C&1?V(d,f,m,b,y,w,O,k,T):C&6?$e(d,f,m,b,y,w,O,k,T):(C&64||C&128)&&x.process(d,f,m,b,y,w,O,k,T,Yt)}I!=null&&y&&gs(I,d&&d.ref,w,f||d,!f)},P=(d,f,m,b)=>{if(d==null)s(f.el=a(f.children),m,b);else{const y=f.el=d.el;f.children!==d.children&&u(y,f.children)}},D=(d,f,m,b)=>{d==null?s(f.el=l(f.children||""),m,b):f.el=d.el},q=(d,f,m,b)=>{[d.el,d.anchor]=_(d.children,f,m,b,d.el,d.anchor)},B=({el:d,anchor:f},m,b)=>{let y;for(;d&&d!==f;)y=p(d),s(d,m,b),d=y;s(f,m,b)},A=({el:d,anchor:f})=>{let m;for(;d&&d!==f;)m=p(d),n(d),d=m;n(f)},V=(d,f,m,b,y,w,O,k,T)=>{f.type==="svg"?O="svg":f.type==="math"&&(O="mathml"),d==null?pe(f,m,b,y,w,O,k,T):F(d,f,y,w,O,k,T)},pe=(d,f,m,b,y,w,O,k)=>{let T,x;const{props:I,shapeFlag:C,transition:$,dirs:j}=d;if(T=d.el=o(d.type,w,I&&I.is,I),C&8?c(T,d.children):C&16&&Se(d.children,T,null,b,y,Zs(d,w),O,k),j&&$t(d,null,b,"created"),he(T,d,d.scopeId,O,b),I){for(const re in I)re!=="value"&&!kr(re)&&i(T,re,null,I[re],w,b);"value"in I&&i(T,"value",null,I.value,w),(x=I.onVnodeBeforeMount)&&st(x,b,d)}j&&$t(d,null,b,"beforeMount");const z=au(y,$);z&&$.beforeEnter(T),s(T,f,m),((x=I&&I.onVnodeMounted)||z||j)&&Me(()=>{x&&st(x,b,d),z&&$.enter(T),j&&$t(d,null,b,"mounted")},y)},he=(d,f,m,b,y)=>{if(m&&g(d,m),b)for(let w=0;w<b.length;w++)g(d,b[w]);if(y){let w=y.subTree;if(f===w||Ua(w.type)&&(w.ssContent===f||w.ssFallback===f)){const O=y.vnode;he(d,O,O.scopeId,O.slotScopeIds,y.parent)}}},Se=(d,f,m,b,y,w,O,k,T=0)=>{for(let x=T;x<d.length;x++){const I=d[x]=k?wt(d[x]):ot(d[x]);E(null,I,f,m,b,y,w,O,k)}},F=(d,f,m,b,y,w,O)=>{const k=f.el=d.el;let{patchFlag:T,dynamicChildren:x,dirs:I}=f;T|=d.patchFlag&16;const C=d.props||te,$=f.props||te;let j;if(m&&Rt(m,!1),(j=$.onVnodeBeforeUpdate)&&st(j,m,f,d),I&&$t(f,d,m,"beforeUpdate"),m&&Rt(m,!0),(C.innerHTML&&$.innerHTML==null||C.textContent&&$.textContent==null)&&c(k,""),x?S(d.dynamicChildren,x,k,m,b,Zs(f,y),w):O||Q(d,f,k,null,m,b,Zs(f,y),w,!1),T>0){if(T&16)R(k,C,$,m,y);else if(T&2&&C.class!==$.class&&i(k,"class",null,$.class,y),T&4&&i(k,"style",C.style,$.style,y),T&8){const z=f.dynamicProps;for(let re=0;re<z.length;re++){const X=z[re],De=C[X],ge=$[X];(ge!==De||X==="value")&&i(k,X,De,ge,y,m)}}T&1&&d.children!==f.children&&c(k,f.children)}else!O&&x==null&&R(k,C,$,m,y);((j=$.onVnodeUpdated)||I)&&Me(()=>{j&&st(j,m,f,d),I&&$t(f,d,m,"updated")},b)},S=(d,f,m,b,y,w,O)=>{for(let k=0;k<f.length;k++){const T=d[k],x=f[k],I=T.el&&(T.type===_e||!mr(T,x)||T.shapeFlag&70)?h(T.el):m;E(T,x,I,null,b,y,w,O,!0)}},R=(d,f,m,b,y)=>{if(f!==m){if(f!==te)for(const w in f)!kr(w)&&!(w in m)&&i(d,w,f[w],null,y,b);for(const w in m){if(kr(w))continue;const O=m[w],k=f[w];O!==k&&w!=="value"&&i(d,w,k,O,y,b)}"value"in m&&i(d,"value",f.value,m.value,y)}},Ae=(d,f,m,b,y,w,O,k,T)=>{const x=f.el=d?d.el:a(""),I=f.anchor=d?d.anchor:a("");let{patchFlag:C,dynamicChildren:$,slotScopeIds:j}=f;j&&(k=k?k.concat(j):j),d==null?(s(x,m,b),s(I,m,b),Se(f.children||[],m,I,y,w,O,k,T)):C>0&&C&64&&$&&d.dynamicChildren?(S(d.dynamicChildren,$,m,y,w,O,k),(f.key!=null||y&&f===y.subTree)&&Da(d,f,!0)):Q(d,f,m,I,y,w,O,k,T)},$e=(d,f,m,b,y,w,O,k,T)=>{f.slotScopeIds=k,d==null?f.shapeFlag&512?y.ctx.activate(f,m,b,O,T):Ye(f,m,b,y,w,O,T):le(d,f,T)},Ye=(d,f,m,b,y,w,O)=>{const k=d.component=Eu(d,b,y);if(wa(d)&&(k.ctx.renderer=Yt),Su(k,!1,O),k.asyncDep){if(y&&y.registerDep(k,ee,O),!d.el){const T=k.subTree=oe(qt);D(null,T,f,m)}}else ee(k,d,f,m,y,w,O)},le=(d,f,m)=>{const b=f.component=d.component;if(mu(d,f,m))if(b.asyncDep&&!b.asyncResolved){K(b,f,m);return}else b.next=f,b.update();else f.el=d.el,b.vnode=f},ee=(d,f,m,b,y,w,O)=>{const k=()=>{if(d.isMounted){let{next:C,bu:$,u:j,parent:z,vnode:re}=d;{const Ie=Ia(d);if(Ie){C&&(C.el=re.el,K(d,C,O)),Ie.asyncDep.then(()=>{d.isUnmounted||k()});return}}let X=C,De;Rt(d,!1),C?(C.el=re.el,K(d,C,O)):C=re,$&&ns($),(De=C.props&&C.props.onVnodeBeforeUpdate)&&st(De,z,C,re),Rt(d,!0);const ge=tn(d),Ke=d.subTree;d.subTree=ge,E(Ke,ge,h(Ke.el),Yr(Ke),d,y,w),C.el=ge.el,X===null&&vu(d,ge.el),j&&Me(j,y),(De=C.props&&C.props.onVnodeUpdated)&&Me(()=>st(De,z,C,re),y)}else{let C;const{el:$,props:j}=f,{bm:z,m:re,parent:X,root:De,type:ge}=d,Ke=Or(f);if(Rt(d,!1),z&&ns(z),!Ke&&(C=j&&j.onVnodeBeforeMount)&&st(C,X,f),Rt(d,!0),$&&Ys){const Ie=()=>{d.subTree=tn(d),Ys($,d.subTree,d,y,null)};Ke&&ge.__asyncHydrate?ge.__asyncHydrate($,d,Ie):Ie()}else{De.ce&&De.ce._injectChildStyle(ge);const Ie=d.subTree=tn(d);E(null,Ie,m,b,d,y,w),f.el=Ie.el}if(re&&Me(re,y),!Ke&&(C=j&&j.onVnodeMounted)){const Ie=f;Me(()=>st(C,X,Ie),y)}(f.shapeFlag&256||X&&Or(X.vnode)&&X.vnode.shapeFlag&256)&&d.a&&Me(d.a,y),d.isMounted=!0,f=m=b=null}};d.scope.on();const T=d.effect=new Xo(k);d.scope.off();const x=d.update=T.run.bind(T),I=d.job=T.runIfDirty.bind(T);I.i=d,I.id=d.uid,T.scheduler=()=>fi(I),Rt(d,!0),x()},K=(d,f,m)=>{f.component=d;const b=d.vnode.props;d.vnode=f,d.next=null,eu(d,f.props,b,m),nu(d,f.children,m),Ot(),Li(d),Ct()},Q=(d,f,m,b,y,w,O,k,T=!1)=>{const x=d&&d.children,I=d?d.shapeFlag:0,C=f.children,{patchFlag:$,shapeFlag:j}=f;if($>0){if($&128){At(x,C,m,b,y,w,O,k,T);return}else if($&256){tt(x,C,m,b,y,w,O,k,T);return}}j&8?(I&16&&fr(x,y,w),C!==x&&c(m,C)):I&16?j&16?At(x,C,m,b,y,w,O,k,T):fr(x,y,w,!0):(I&8&&c(m,""),j&16&&Se(C,m,b,y,w,O,k,T))},tt=(d,f,m,b,y,w,O,k,T)=>{d=d||tr,f=f||tr;const x=d.length,I=f.length,C=Math.min(x,I);let $;for($=0;$<C;$++){const j=f[$]=T?wt(f[$]):ot(f[$]);E(d[$],j,m,null,y,w,O,k,T)}x>I?fr(d,y,w,!0,!1,C):Se(f,m,b,y,w,O,k,T,C)},At=(d,f,m,b,y,w,O,k,T)=>{let x=0;const I=f.length;let C=d.length-1,$=I-1;for(;x<=C&&x<=$;){const j=d[x],z=f[x]=T?wt(f[x]):ot(f[x]);if(mr(j,z))E(j,z,m,null,y,w,O,k,T);else break;x++}for(;x<=C&&x<=$;){const j=d[C],z=f[$]=T?wt(f[$]):ot(f[$]);if(mr(j,z))E(j,z,m,null,y,w,O,k,T);else break;C--,$--}if(x>C){if(x<=$){const j=$+1,z=j<I?f[j].el:b;for(;x<=$;)E(null,f[x]=T?wt(f[x]):ot(f[x]),m,z,y,w,O,k,T),x++}}else if(x>$)for(;x<=C;)Re(d[x],y,w,!0),x++;else{const j=x,z=x,re=new Map;for(x=z;x<=$;x++){const je=f[x]=T?wt(f[x]):ot(f[x]);je.key!=null&&re.set(je.key,x)}let X,De=0;const ge=$-z+1;let Ke=!1,Ie=0;const pr=new Array(ge);for(x=0;x<ge;x++)pr[x]=0;for(x=j;x<=C;x++){const je=d[x];if(De>=ge){Re(je,y,w,!0);continue}let rt;if(je.key!=null)rt=re.get(je.key);else for(X=z;X<=$;X++)if(pr[X-z]===0&&mr(je,f[X])){rt=X;break}rt===void 0?Re(je,y,w,!0):(pr[rt-z]=x+1,rt>=Ie?Ie=rt:Ke=!0,E(je,f[rt],m,null,y,w,O,k,T),De++)}const Ri=Ke?lu(pr):tr;for(X=Ri.length-1,x=ge-1;x>=0;x--){const je=z+x,rt=f[je],Di=je+1<I?f[je+1].el:b;pr[x]===0?E(null,rt,m,Di,y,w,O,k,T):Ke&&(X<0||x!==Ri[X]?ze(rt,m,Di,2):X--)}}},ze=(d,f,m,b,y=null)=>{const{el:w,type:O,transition:k,children:T,shapeFlag:x}=d;if(x&6){ze(d.component.subTree,f,m,b);return}if(x&128){d.suspense.move(f,m,b);return}if(x&64){O.move(d,f,m,Yt);return}if(O===_e){s(w,f,m);for(let C=0;C<T.length;C++)ze(T[C],f,m,b);s(d.anchor,f,m);return}if(O===rn){B(d,f,m);return}if(b!==2&&x&1&&k)if(b===0)k.beforeEnter(w),s(w,f,m),Me(()=>k.enter(w),y);else{const{leave:C,delayLeave:$,afterLeave:j}=k,z=()=>s(w,f,m),re=()=>{C(w,()=>{z(),j&&j()})};$?$(w,z,re):re()}else s(w,f,m)},Re=(d,f,m,b=!1,y=!1)=>{const{type:w,props:O,ref:k,children:T,dynamicChildren:x,shapeFlag:I,patchFlag:C,dirs:$,cacheIndex:j}=d;if(C===-2&&(y=!1),k!=null&&gs(k,null,m,d,!0),j!=null&&(f.renderCache[j]=void 0),I&256){f.ctx.deactivate(d);return}const z=I&1&&$,re=!Or(d);let X;if(re&&(X=O&&O.onVnodeBeforeUnmount)&&st(X,f,d),I&6)Ul(d.component,m,b);else{if(I&128){d.suspense.unmount(m,b);return}z&&$t(d,null,f,"beforeUnmount"),I&64?d.type.remove(d,f,m,Yt,b):x&&!x.hasOnce&&(w!==_e||C>0&&C&64)?fr(x,f,m,!1,!0):(w===_e&&C&384||!y&&I&16)&&fr(T,f,m),b&&Ai(d)}(re&&(X=O&&O.onVnodeUnmounted)||z)&&Me(()=>{X&&st(X,f,d),z&&$t(d,null,f,"unmounted")},m)},Ai=d=>{const{type:f,el:m,anchor:b,transition:y}=d;if(f===_e){Ll(m,b);return}if(f===rn){A(d);return}const w=()=>{n(m),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(d.shapeFlag&1&&y&&!y.persisted){const{leave:O,delayLeave:k}=y,T=()=>O(m,w);k?k(d.el,w,T):T()}else w()},Ll=(d,f)=>{let m;for(;d!==f;)m=p(d),n(d),d=m;n(f)},Ul=(d,f,m)=>{const{bum:b,scope:y,job:w,subTree:O,um:k,m:T,a:x}=d;Hi(T),Hi(x),b&&ns(b),y.stop(),w&&(w.flags|=8,Re(O,d,f,m)),k&&Me(k,f),Me(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},fr=(d,f,m,b=!1,y=!1,w=0)=>{for(let O=w;O<d.length;O++)Re(d[O],f,m,b,y)},Yr=d=>{if(d.shapeFlag&6)return Yr(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=p(d.anchor||d.el),m=f&&f[Ac];return m?p(m):f};let Ws=!1;const $i=(d,f,m)=>{d==null?f._vnode&&Re(f._vnode,null,null,!0):E(f._vnode||null,d,f,null,null,null,m),f._vnode=d,Ws||(Ws=!0,Li(),ma(),Ws=!1)},Yt={p:E,um:Re,m:ze,r:Ai,mt:Ye,mc:Se,pc:Q,pbc:S,n:Yr,o:t};let Vs,Ys;return e&&([Vs,Ys]=e(Yt)),{render:$i,hydrate:Vs,createApp:Qc($i,Vs)}}function Zs({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Rt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function au(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Da(t,e,r=!1){const s=t.children,n=e.children;if(M(s)&&M(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=wt(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Da(o,a)),a.type===Rs&&(a.el=o.el)}}function lu(t){const e=t.slice(),r=[0];let s,n,i,o,a;const l=t.length;for(s=0;s<l;s++){const u=t[s];if(u!==0){if(n=r[r.length-1],t[n]<u){e[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<u?i=a+1:o=a;u<t[r[i]]&&(i>0&&(e[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function Ia(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ia(e)}function Hi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const cu=Symbol.for("v-scx"),uu=()=>is(cu);function en(t,e,r){return ja(t,e,r)}function ja(t,e,r=te){const{immediate:s,deep:n,flush:i,once:o}=r,a=fe({},r),l=e&&s||!e&&i!=="post";let u;if(Ur){if(i==="sync"){const g=uu();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Xe,g.resume=Xe,g.pause=Xe,g}}const c=ke;a.call=(g,_,E)=>lt(g,c,_,E);let h=!1;i==="post"?a.scheduler=g=>{Me(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,_)=>{_?g():fi(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=kc(t,e,a);return Ur&&(u?u.push(p):l&&p()),p}function hu(t,e,r){const s=this.proxy,n=ue(t)?t.includes(".")?Ma(s,t):()=>s[t]:t.bind(s,s);let i;U(e)?i=e:(i=e.handler,r=e);const o=Hr(this),a=ja(n,i.bind(s),r);return o(),a}function Ma(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const du=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Et(e)}Modifiers`]||t[`${Wt(e)}Modifiers`];function fu(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||te;let n=r;const i=e.startsWith("update:"),o=i&&du(s,e.slice(7));o&&(o.trim&&(n=r.map(c=>ue(c)?c.trim():c)),o.number&&(n=r.map(Tn)));let a,l=s[a=zs(e)]||s[a=zs(Et(e))];!l&&i&&(l=s[a=zs(Wt(e))]),l&&lt(l,t,6,n);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,lt(u,t,6,n)}}function La(t,e,r=!1){const s=e.emitsCache,n=s.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!U(t)){const l=u=>{const c=La(u,e,!0);c&&(a=!0,fe(o,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ae(t)&&s.set(t,null),null):(M(i)?i.forEach(l=>o[l]=null):fe(o,i),ae(t)&&s.set(t,o),o)}function $s(t,e){return!t||!xs(e)?!1:(e=e.slice(2).replace(/Once$/,""),G(t,e[0].toLowerCase()+e.slice(1))||G(t,Wt(e))||G(t,e))}function tn(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:_,inheritAttrs:E}=t,P=ps(t);let D,q;try{if(r.shapeFlag&4){const A=n||s,V=A;D=ot(u.call(V,A,c,h,g,p,_)),q=a}else{const A=e;D=ot(A.length>1?A(h,{attrs:a,slots:o,emit:l}):A(h,null)),q=e.props?a:pu(a)}}catch(A){Pr.length=0,Cs(A,t,1),D=oe(qt)}let B=D;if(q&&E!==!1){const A=Object.keys(q),{shapeFlag:V}=B;A.length&&V&7&&(i&&A.some(ri)&&(q=gu(q,i)),B=ar(B,q,!1,!0))}return r.dirs&&(B=ar(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(r.dirs):r.dirs),r.transition&&pi(B,r.transition),D=B,ps(P),D}const pu=t=>{let e;for(const r in t)(r==="class"||r==="style"||xs(r))&&((e||(e={}))[r]=t[r]);return e},gu=(t,e)=>{const r={};for(const s in t)(!ri(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function mu(t,e,r){const{props:s,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?Wi(s,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==s[p]&&!$s(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Wi(s,o,u):!0:!!o;return!1}function Wi(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==t[i]&&!$s(r,i))return!0}return!1}function vu({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const Ua=t=>t.__isSuspense;function _u(t,e){e&&e.pendingBranch?M(t)?e.effects.push(...t):e.effects.push(t):Cc(t)}const _e=Symbol.for("v-fgt"),Rs=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),rn=Symbol.for("v-stc"),Pr=[];let Ne=null;function N(t=!1){Pr.push(Ne=t?null:[])}function yu(){Pr.pop(),Ne=Pr[Pr.length-1]||null}let Lr=1;function Vi(t,e=!1){Lr+=t,t<0&&Ne&&e&&(Ne.hasOnce=!0)}function Na(t){return t.dynamicChildren=Lr>0?Ne||tr:null,yu(),Lr>0&&Ne&&Ne.push(t),t}function H(t,e,r,s,n,i){return Na(v(t,e,r,s,n,i,!0))}function Ba(t,e,r,s,n){return Na(oe(t,e,r,s,n,!0))}function Fa(t){return t?t.__v_isVNode===!0:!1}function mr(t,e){return t.type===e.type&&t.key===e.key}const qa=({key:t})=>t??null,os=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ue(t)||ye(t)||U(t)?{i:He,r:t,k:e,f:!!r}:t:null);function v(t,e=null,r=null,s=0,n=null,i=t===_e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qa(e),ref:e&&os(e),scopeId:_a,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:He};return a?(vi(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=ue(r)?8:16),Lr>0&&!o&&Ne&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ne.push(l),l}const oe=wu;function wu(t,e=null,r=null,s=0,n=null,i=!1){if((!t||t===Hc)&&(t=qt),Fa(t)){const a=ar(t,e,!0);return r&&vi(a,r),Lr>0&&!i&&Ne&&(a.shapeFlag&6?Ne[Ne.indexOf(t)]=a:Ne.push(a)),a.patchFlag=-2,a}if(Au(t)&&(t=t.__vccOpts),e){e=bu(e);let{class:a,style:l}=e;a&&!ue(a)&&(e.class=Be(a)),ae(l)&&(di(l)&&!M(l)&&(l=fe({},l)),e.style=Ss(l))}const o=ue(t)?1:Ua(t)?128:$c(t)?64:ae(t)?4:U(t)?2:0;return v(t,e,r,s,n,o,i,!0)}function bu(t){return t?di(t)||Sa(t)?fe({},t):t:null}function ar(t,e,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?xu(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&qa(u),ref:e&&e.ref?r&&i?M(i)?i.concat(os(e)):[i,os(e)]:os(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ar(t.ssContent),ssFallback:t.ssFallback&&ar(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&pi(c,l.clone(c)),c}function Ar(t=" ",e=0){return oe(Rs,null,t,e)}function Lt(t="",e=!1){return e?(N(),Ba(qt,null,t)):oe(qt,null,t)}function ot(t){return t==null||typeof t=="boolean"?oe(qt):M(t)?oe(_e,null,t.slice()):Fa(t)?wt(t):oe(Rs,null,String(t))}function wt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ar(t)}function vi(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(M(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),vi(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!Sa(e)?e._ctx=He:n===3&&He&&(He.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:He},r=32):(e=String(e),s&64?(r=16,e=[Ar(e)]):r=8);t.children=e,t.shapeFlag|=r}function xu(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=Be([e.class,s.class]));else if(n==="style")e.style=Ss([e.style,s.style]);else if(xs(n)){const i=e[n],o=s[n];o&&i!==o&&!(M(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=s[n])}return e}function st(t,e,r,s=null){lt(t,e,7,[r,s])}const Tu=Ta();let ku=0;function Eu(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||Tu,i={uid:ku++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Gl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ca(s,n),emitsOptions:La(s,n),emit:null,emitted:null,propsDefaults:te,inheritAttrs:s.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=fu.bind(null,i),t.ce&&t.ce(i),i}let ke=null,vs,Dn;{const t=Es(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};vs=e("__VUE_INSTANCE_SETTERS__",r=>ke=r),Dn=e("__VUE_SSR_SETTERS__",r=>Ur=r)}const Hr=t=>{const e=ke;return vs(t),t.scope.on(),()=>{t.scope.off(),vs(e)}},Yi=()=>{ke&&ke.scope.off(),vs(null)};function Ha(t){return t.vnode.shapeFlag&4}let Ur=!1;function Su(t,e=!1,r=!1){e&&Dn(e);const{props:s,children:n}=t.vnode,i=Ha(t);Zc(t,s,i,e),su(t,n,r);const o=i?Ou(t,e):void 0;return e&&Dn(!1),o}function Ou(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Wc);const{setup:s}=r;if(s){Ot();const n=t.setupContext=s.length>1?Pu(t):null,i=Hr(t),o=Fr(s,t,0,[t.props,n]),a=Wo(o);if(Ct(),i(),(a||t.sp)&&!Or(t)&&ya(t),a){if(o.then(Yi,Yi),e)return o.then(l=>{zi(t,l,e)}).catch(l=>{Cs(l,t,0)});t.asyncDep=o}else zi(t,o,e)}else Wa(t,e)}function zi(t,e,r){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ae(e)&&(t.setupState=fa(e)),Wa(t,r)}let Ki;function Wa(t,e,r){const s=t.type;if(!t.render){if(!e&&Ki&&!s.render){const n=s.template||gi(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,u=fe(fe({isCustomElement:i,delimiters:a},o),l);s.render=Ki(n,u)}}t.render=s.render||Xe}{const n=Hr(t);Ot();try{Vc(t)}finally{Ct(),n()}}}const Cu={get(t,e){return me(t,"get",""),t[e]}};function Pu(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Cu),slots:t.slots,emit:t.emit,expose:e}}function Ds(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fa(vc(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Cr)return Cr[r](t)},has(e,r){return r in e||r in Cr}})):t.proxy}function Au(t){return U(t)&&"__vccOpts"in t}const Nr=(t,e)=>xc(t,e,Ur),$u="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let In;const Ji=typeof window<"u"&&window.trustedTypes;if(Ji)try{In=Ji.createPolicy("vue",{createHTML:t=>t})}catch{}const Va=In?t=>In.createHTML(t):t=>t,Ru="http://www.w3.org/2000/svg",Du="http://www.w3.org/1998/Math/MathML",ht=typeof document<"u"?document:null,Gi=ht&&ht.createElement("template"),Iu={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?ht.createElementNS(Ru,t):e==="mathml"?ht.createElementNS(Du,t):r?ht.createElement(t,{is:r}):ht.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>ht.createTextNode(t),createComment:t=>ht.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ht.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,i){const o=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{Gi.innerHTML=Va(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Gi.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},ju=Symbol("_vtc");function Mu(t,e,r){const s=t[ju];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Qi=Symbol("_vod"),Lu=Symbol("_vsh"),Uu=Symbol(""),Nu=/(^|;)\s*display\s*:/;function Bu(t,e,r){const s=t.style,n=ue(r);let i=!1;if(r&&!n){if(e)if(ue(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&as(s,a,"")}else for(const o in e)r[o]==null&&as(s,o,"");for(const o in r)o==="display"&&(i=!0),as(s,o,r[o])}else if(n){if(e!==r){const o=s[Uu];o&&(r+=";"+o),s.cssText=r,i=Nu.test(r)}}else e&&t.removeAttribute("style");Qi in t&&(t[Qi]=i?s.display:"",t[Lu]&&(s.display="none"))}const Xi=/\s*!important$/;function as(t,e,r){if(M(r))r.forEach(s=>as(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=Fu(t,e);Xi.test(r)?t.setProperty(Wt(s),r.replace(Xi,""),"important"):t[s]=r}}const Zi=["Webkit","Moz","ms"],sn={};function Fu(t,e){const r=sn[e];if(r)return r;let s=Et(e);if(s!=="filter"&&s in t)return sn[e]=s;s=zo(s);for(let n=0;n<Zi.length;n++){const i=Zi[n]+s;if(i in t)return sn[e]=i}return e}const eo="http://www.w3.org/1999/xlink";function to(t,e,r,s,n,i=Jl(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(eo,e.slice(6,e.length)):t.setAttributeNS(eo,e,r):r==null||i&&!Jo(r)?t.removeAttribute(e):t.setAttribute(e,i?"":St(r)?String(r):r)}function ro(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Va(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=Jo(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(n||e)}function Zt(t,e,r,s){t.addEventListener(e,r,s)}function qu(t,e,r,s){t.removeEventListener(e,r,s)}const so=Symbol("_vei");function Hu(t,e,r,s,n=null){const i=t[so]||(t[so]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Wu(e);if(s){const u=i[e]=zu(s,n);Zt(t,a,u,l)}else o&&(qu(t,a,o,l),i[e]=void 0)}}const no=/(?:Once|Passive|Capture)$/;function Wu(t){let e;if(no.test(t)){e={};let s;for(;s=t.match(no);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Wt(t.slice(2)),e]}let nn=0;const Vu=Promise.resolve(),Yu=()=>nn||(Vu.then(()=>nn=0),nn=Date.now());function zu(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;lt(Ku(s,r.value),e,5,[s])};return r.value=t,r.attached=Yu(),r}function Ku(t,e){if(M(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const io=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ju=(t,e,r,s,n,i)=>{const o=n==="svg";e==="class"?Mu(t,s,o):e==="style"?Bu(t,r,s):xs(e)?ri(e)||Hu(t,e,r,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Gu(t,e,s,o))?(ro(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&to(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ue(s))?ro(t,Et(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),to(t,e,s,o))};function Gu(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&io(e)&&U(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return io(e)&&ue(r)?!1:e in t}const oo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return M(e)?r=>ns(e,r):e};function Qu(t){t.target.composing=!0}function ao(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const on=Symbol("_assign"),Qr={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[on]=oo(n);const i=s||n.props&&n.props.type==="number";Zt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=Tn(a)),t[on](a)}),r&&Zt(t,"change",()=>{t.value=t.value.trim()}),e||(Zt(t,"compositionstart",Qu),Zt(t,"compositionend",ao),Zt(t,"change",ao))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(t[on]=oo(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Tn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===l)||(t.value=l))}},Xu=["ctrl","shift","alt","meta"],Zu={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Xu.some(r=>t[`${r}Key`]&&!e.includes(r))},an=(t,e)=>{const r=t._withMods||(t._withMods={}),s=e.join(".");return r[s]||(r[s]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Zu[e[o]];if(a&&a(n,e))return}return t(n,...i)})},eh=fe({patchProp:Ju},Iu);let lo;function th(){return lo||(lo=iu(eh))}const rh=(...t)=>{const e=th().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=nh(s);if(!n)return;const i=e._component;!U(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,sh(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function sh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function nh(t){return ue(t)?document.querySelector(t):t}function ih(t,e){return N(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function oh(t,e){return N(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function ah(t,e){return N(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function lh(t,e){return N(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})])}function jn(t,e){return N(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function ln(t,e){return N(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const ch="modulepreload",uh=function(t){return"/"+t},co={},lr=function(e,r,s){if(!r||r.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=uh(i),i in co)return;co[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let c=n.length-1;c>=0;c--){const h=n[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":ch,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},hh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>lr(()=>Promise.resolve().then(()=>ur),void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class _i extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class dh extends _i{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fh extends _i{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ph extends _i{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mn||(Mn={}));var gh=globalThis&&globalThis.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class mh{constructor(e,{headers:r={},customFetch:s,region:n=Mn.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=hh(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return gh(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(_=>{throw new dh(_)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new fh(c);if(!c.ok)throw new ph(c);let p=((s=c.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var Ce={},wi={},Is={},Wr={},js={},Ms={},_h=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cr=_h();const yh=cr.fetch,Ya=cr.fetch.bind(cr),za=cr.Headers,wh=cr.Request,bh=cr.Response,ur=Object.freeze(Object.defineProperty({__proto__:null,Headers:za,Request:wh,Response:bh,default:Ya,fetch:yh},Symbol.toStringTag,{value:"Module"})),xh=vh(ur);var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});let Th=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ls.default=Th;var Ka=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ms,"__esModule",{value:!0});const kh=Ka(xh),Eh=Ka(Ls);let Sh=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=kh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const D=await i.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=D:c=JSON.parse(D))}const E=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),P=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");E&&P&&P.length>1&&(h=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const E=await i.text();try{u=JSON.parse(E),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,g="OK")}catch{i.status===404&&E===""?(p=204,g="No Content"):u={message:E}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new Eh.default(u)}return{error:u,data:c,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,r)}returns(){return this}overrideTypes(){return this}};Ms.default=Sh;var Oh=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(js,"__esModule",{value:!0});const Ch=Oh(Ms);let Ph=class extends Ch.default{select(e){let r=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};js.default=Ph;var Ah=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});const $h=Ah(js);let Rh=class extends $h.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const s=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(e,r,s){return this.url.searchParams.append(e,`not.${r}.${s}`),this}or(e,{foreignTable:r,referencedTable:s=r}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,s){return this.url.searchParams.append(e,`${r}.${s}`),this}};Wr.default=Rh;var Dh=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Is,"__esModule",{value:!0});const vr=Dh(Wr);let Ih=class{constructor(e,{headers:r={},schema:s,fetch:n}){this.url=e,this.headers=r,this.schema=s,this.fetch=n}select(e,{head:r=!1,count:s}={}){const n=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new vr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new vr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new vr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Is.default=Ih;var Us={},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.version=void 0;Ns.version="0.0.0-automated";Object.defineProperty(Us,"__esModule",{value:!0});Us.DEFAULT_HEADERS=void 0;const jh=Ns;Us.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jh.version}`};var Ja=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const Mh=Ja(Is),Lh=Ja(Wr),Uh=Us;let Nh=class Ga{constructor(e,{headers:r={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Uh.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=n}from(e){const r=new URL(`${this.url}/${e}`);return new Mh.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ga(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||n?(o=s?"HEAD":"GET",Object.entries(r).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Lh.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};wi.default=Nh;var hr=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const Qa=hr(wi);Ce.PostgrestClient=Qa.default;const Xa=hr(Is);Ce.PostgrestQueryBuilder=Xa.default;const Za=hr(Wr);Ce.PostgrestFilterBuilder=Za.default;const el=hr(js);Ce.PostgrestTransformBuilder=el.default;const tl=hr(Ms);Ce.PostgrestBuilder=tl.default;const rl=hr(Ls);Ce.PostgrestError=rl.default;var Bh=Ce.default={PostgrestClient:Qa.default,PostgrestQueryBuilder:Xa.default,PostgrestFilterBuilder:Za.default,PostgrestTransformBuilder:el.default,PostgrestBuilder:tl.default,PostgrestError:rl.default};const{PostgrestClient:Fh,PostgrestQueryBuilder:Lv,PostgrestFilterBuilder:Uv,PostgrestTransformBuilder:Nv,PostgrestBuilder:Bv,PostgrestError:Fv}=Bh,qh="2.11.2",Hh={"X-Client-Info":`realtime-js/${qh}`},Wh="1.0.0",sl=1e4,Vh=1e3;var or;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(or||(or={}));var Le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Le||(Le={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var Ln;(function(t){t.websocket="websocket"})(Ln||(Ln={}));var Ut;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ut||(Ut={}));class Yh{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class nl{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(se||(se={}));const uo=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=zh(o,t,e,n),i),{})},zh=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?il(i,o):Un(o)},il=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Qh(e,r)}switch(t){case se.bool:return Kh(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return Jh(e);case se.json:case se.jsonb:return Gh(e);case se.timestamp:return Xh(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Un(e);default:return Un(e)}},Un=t=>t,Kh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Jh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qh=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>il(e,a))}return t},Xh=t=>typeof t=="string"?t.replace(" ","T"):t,ol=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class cn{constructor(e,r,s={},n=sl){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ho;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ho||(ho={}));class $r{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=$r.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=$r.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(P=>P.presence_ref),g=h.map(P=>P.presence_ref),_=c.filter(P=>g.indexOf(P.presence_ref)<0),E=h.filter(P=>p.indexOf(P.presence_ref)<0);_.length>0&&(a[u]=_),E.length>0&&(l[u]=E)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}s(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fo||(fo={}));var po;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(po||(po={}));var dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class bi{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cn(this,Je.join,this.params,this.timeout),this.rejoinTimer=new nl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new $r(this),this.broadcastEndpointURL=ol(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(dt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(dt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(dt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,_=[];for(let E=0;E<g;E++){const P=p[E],{filter:{event:D,schema:q,table:B,filter:A}}=P,V=c&&c[E];if(V&&V.event===D&&V.schema===q&&V.table===B&&V.filter===A)_.push(Object.assign(Object.assign({},P),{id:V.id}));else{this.unsubscribe(),e==null||e(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(dt.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this._on(e,r,s)}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new cn(this,Je.leave,{},e);n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new cn(this,e,r,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Je;if(s&&[a,l,u,c].indexOf(o)>=0&&s!==this._joinRef())return;let p=this._onMessage(o,r,s);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var _,E,P;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((P=(E=g.filter)===null||E===void 0?void 0:E.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(g=>g.callback(p,s)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var _,E,P,D,q,B;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const A=g.id,V=(_=g.filter)===null||_===void 0?void 0:_.event;return A&&((E=r.ids)===null||E===void 0?void 0:E.includes(A))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const A=(q=(D=g==null?void 0:g.filter)===null||D===void 0?void 0:D.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return A==="*"||A===((B=r==null?void 0:r.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const _=p.data,{schema:E,table:P,commit_timestamp:D,type:q,errors:B}=_;p=Object.assign(Object.assign({},{schema:E,table:P,commit_timestamp:D,eventType:q,new:{},old:{},errors:B}),this._getPayloadRecords(_))}g.callback(p,s)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&bi.isEqual(n.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=uo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=uo(e.columns,e.old_record)),r}}const Zh=()=>{},ed=typeof WebSocket<"u",td=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rd{constructor(e,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Hh,this.params={},this.timeout=sl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zh,this.conn=null,this.sendBuffer=[],this.serializer=new Yh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>lr(()=>Promise.resolve().then(()=>ur),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ln.websocket}`,this.httpEndpoint=ol(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const n=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ed){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sd(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),lr(()=>import("./browser-ac9a00cc.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wh}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case or.connecting:return Ut.Connecting;case or.open:return Ut.Open;case or.closing:return Ut.Closing;default:return Ut.Closed}}isConnected(){return this.connectionState()===Ut.Open}channel(e,r={config:{}}){const s=new bi(`realtime:${e}`,r,this);return this.channels.push(s),s}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let s=null;try{s=JSON.parse(atob(r.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r}),n.joinedOnce&&n._isJoined()&&n._push(Je.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Vh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:s,event:n,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([td],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class sd{constructor(e,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=or.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class xi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function de(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nd extends xi{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nn extends xi{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var id=globalThis&&globalThis.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const al=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>lr(()=>Promise.resolve().then(()=>ur),void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},od=()=>id(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield lr(()=>Promise.resolve().then(()=>ur),void 0)).Response:Response}),Bn=t=>{if(Array.isArray(t))return t.map(r=>Bn(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Bn(s)}),e};var Vt=globalThis&&globalThis.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const un=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ad=(t,e,r)=>Vt(void 0,void 0,void 0,function*(){const s=yield od();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{e(new nd(un(n),t.status||500))}).catch(n=>{e(new Nn(un(n),n))}):e(new Nn(un(t),t))}),ld=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),r))};function Vr(t,e,r,s,n,i){return Vt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,ld(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ad(l,a,s))})})}function _s(t,e,r,s){return Vt(this,void 0,void 0,function*(){return Vr(t,"GET",e,r,s)})}function bt(t,e,r,s,n){return Vt(this,void 0,void 0,function*(){return Vr(t,"POST",e,s,n,r)})}function cd(t,e,r,s,n){return Vt(this,void 0,void 0,function*(){return Vr(t,"PUT",e,s,n,r)})}function ud(t,e,r,s){return Vt(this,void 0,void 0,function*(){return Vr(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function ll(t,e,r,s,n){return Vt(this,void 0,void 0,function*(){return Vr(t,"DELETE",e,s,n,r)})}var Oe=globalThis&&globalThis.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const hd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dd{constructor(e,r={},s,n){this.url=e,this.headers=r,this.bucketId=s,this.fetch=al(n)}uploadOrUpdate(e,r,s,n){return Oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},go),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(de(i))return{data:null,error:i};throw i}})}upload(e,r,s){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:go.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(de(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Oe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new xi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}update(e,r,s){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Oe(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}copy(e,r,s){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield bt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return Oe(this,void 0,void 0,function*(){try{const n=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}download(e,r){return Oe(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield _s(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(de(a))return{data:null,error:a};throw a}})}info(e){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield _s(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bn(s),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}exists(e){return Oe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ud(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(de(s)&&s instanceof Nn){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}list(e,r,s){return Oe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},hd),r),{prefix:e||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const fd="2.7.1",pd={"X-Client-Info":`storage-js/${fd}`};var Kt=globalThis&&globalThis.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class gd{constructor(e,r={},s){this.url=e,this.headers=Object.assign(Object.assign({},pd),r),this.fetch=al(s)}listBuckets(){return Kt(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(de(e))return{data:null,error:e};throw e}})}getBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Kt(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Kt(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Kt(this,void 0,void 0,function*(){try{return{data:yield ll(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}})}}class md extends gd{constructor(e,r={},s){super(e,r,s)}from(e){return new dd(this.url,this.headers,e,this.fetch)}}const vd="2.49.4";let xr="";typeof Deno<"u"?xr="deno":typeof document<"u"?xr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xr="react-native":xr="node";const _d={"X-Client-Info":`supabase-js-${xr}/${vd}`},yd={headers:_d},wd={schema:"public"},bd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xd={};var Td=globalThis&&globalThis.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};const kd=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ya:e=fetch,(...r)=>e(...r)},Ed=()=>typeof Headers>"u"?za:Headers,Sd=(t,e,r)=>{const s=kd(r),n=Ed();return(i,o)=>Td(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var Od=globalThis&&globalThis.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};function Cd(t){return t.replace(/\/$/,"")}function Pd(t,e){const{db:r,auth:s,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Od(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const cl="2.69.1",er=30*1e3,Fn=3,hn=Fn*er,Ad="http://localhost:9999",$d="supabase.auth.token",Rd={"X-Client-Info":`gotrue-js/${cl}`},qn="X-Supabase-Api-Version",ul={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Id=6e5;class Ti extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jd extends Ti{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Md(t){return L(t)&&t.name==="AuthApiError"}class hl extends Ti{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Pt extends Ti{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class vt extends Pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ld(t){return L(t)&&t.name==="AuthSessionMissingError"}class dn extends Pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xr extends Pt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zr extends Pt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ud(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class mo extends Pt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hn extends Pt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fn(t){return L(t)&&t.name==="AuthRetryableFetchError"}class vo extends Pt{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Rr extends Pt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yo=` 	
\r=`.split(""),Nd=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yo.length;e+=1)t[yo[e].charCodeAt(0)]=-2;for(let e=0;e<_o.length;e+=1)t[_o[e].charCodeAt(0)]=e;return t})();function dl(t,e,r){const s=Nd[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wo(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{qd(o,s,r)};for(let o=0;o<t.length;o+=1)dl(t.charCodeAt(o),n,i);return e.join("")}function Bd(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Fd(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Bd(s,e)}}function qd(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hd(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)dl(t.charCodeAt(n),r,s);return new Uint8Array(e)}function Wd(t){const e=[];return Fd(t,r=>e.push(r)),new Uint8Array(e)}function Vd(t){return Math.round(Date.now()/1e3)+t}function Yd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nt=()=>typeof window<"u"&&typeof document<"u",Dt={tested:!1,writable:!1},Dr=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dt.tested)return Dt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Dt.tested=!0,Dt.writable=!0}catch{Dt.tested=!0,Dt.writable=!1}return Dt.writable};function zd(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const fl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>lr(()=>Promise.resolve().then(()=>ur),void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Kd=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},es=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ts=async(t,e)=>{await t.removeItem(e)};class Bs{constructor(){this.promise=new Bs.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Bs.promiseConstructor=Promise;function pn(t){const e=t.split(".");if(e.length!==3)throw new Rr("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Dd.test(e[s]))throw new Rr("JWT not in base64url format");return{header:JSON.parse(wo(e[0])),payload:JSON.parse(wo(e[1])),signature:Hd(e[2]),raw:{header:e[0],payload:e[1]}}}async function Jd(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Gd(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Qd(t){return("0"+t.toString(16)).substr(-2)}function Xd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Qd).join("")}async function Zd(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function ef(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Zd(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jt(t,e,r=!1){const s=Xd();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await pl(t,`${e}-code-verifier`,n);const i=await ef(s);return[i,s===i?"plain":"s256"]}const tf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rf(t){const e=t.headers.get(qn);if(!e||!e.match(tf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sf(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function nf(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var of=globalThis&&globalThis.__rest||function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};const jt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),af=[502,503,504];async function bo(t){var e;if(!Kd(t))throw new Hn(jt(t),0);if(af.includes(t.status))throw new Hn(jt(t),t.status);let r;try{r=await t.json()}catch(i){throw new hl(jt(i),i)}let s;const n=rf(t);if(n&&n.getTime()>=ul["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new vo(jt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new vt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new vo(jt(r),t.status,r.weak_password.reasons);throw new jd(jt(r),t.status||500,s)}const lf=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function W(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[qn]||(i[qn]=ul["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await cf(t,e,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function cf(t,e,r,s,n,i){const o=lf(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Hn(jt(l),0)}if(a.ok||await bo(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await bo(l)}}function _t(t){var e;let r=null;ff(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Vd(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function xo(t){const e=_t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uf(t){return{data:t,error:null}}function hf(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=of(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function df(t){return t}function ff(t){return t.access_token&&t.refresh_token&&t.expires_in}var pf=globalThis&&globalThis.__rest||function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};class gf{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=fl(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=pf(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:hf,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:df});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(_.split(";")[1].split("=")[1]);u[`${P}Page`]=E}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:xt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:xt})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:r,error:s}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}const mf={getItem:t=>Dr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Dr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Dr()&&globalThis.localStorage.removeItem(t)}};function To(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function vf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gt={debug:!!(globalThis&&Dr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _f extends gl{}async function yf(t,e,r){Gt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Gt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){Gt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{Gt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Gt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _f(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vf();const wf={url:Ad,storageKey:$d,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ko(t,e,r){return await r()}class Br{constructor(e){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Br.nextInstanceID,Br.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},wf),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new gf({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=fl(n.fetch),this.lock=n.lock||ko,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yf:this.lock=ko,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Dr()?this.storage=mf:(this.memoryStorage={},this.storage=To(this.memoryStorage)):(this.memoryStorage={},this.storage=To(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=zd(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),nt()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ud(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?{error:r}:{error:new hl("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:_t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await Jt(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:_},xform:_t})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:_t})}else throw new Xr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xo})}else throw new Xr("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new dn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await es(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:_t});if(await ts(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new dn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_t}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Jt(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Xr("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:_t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Jt(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:uf})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new vt;const{error:n}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Xr("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<hn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:xt})})}catch(r){if(L(r))return Ld(r)&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new vt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Jt(this.storage,this.storageKey));const{data:u,error:c}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vt;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=pn(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new vt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!nt())throw new Zr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mo("No code detected.");const{data:q,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Zr("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const _=p-h;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,c);const{data:E,error:P}=await this._getUser(i);if(P)throw P;const D={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(s){if(L(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await es(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Md(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ts(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Yd(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Jt(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return nt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(L(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Gd(async n=>(n>0&&await Jd(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_t})),(n,i)=>{const o=200*Math.pow(2,n);return i&&fn(i)&&Date.now()+o-s<er})}catch(s){if(this._debug(r,"error",s),L(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),nt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await es(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const n=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<hn;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${hn}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),fn(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Bs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),L(i)){const o={session:null,error:i};return fn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pl(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ts(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${er}ms, refresh threshold is ${Fn} ticks`),n<=Fn&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Jt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=pn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+Id>Date.now()))return s;const{data:n,error:i}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Rr("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(o=>o.kid===e),!s)throw new Rr("No matching signing key found in JWKS");return s}async getClaims(e,r={keys:[]}){try{let s=e;if(!s){const{data:g,error:_}=await this.getSession();if(_||!g.session)return{data:null,error:_};s=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=pn(s);if(sf(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=nf(n.alg),c=await this.fetchJwk(n.kid,r),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Wd(`${a}.${l}`)))throw new Rr("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}Br.nextInstanceID=0;const bf=Br;class xf extends bf{constructor(e){super(e)}}var Tf=globalThis&&globalThis.__awaiter||function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})};class kf{constructor(e,r,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Cd(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:wd,realtime:xd,auth:Object.assign(Object.assign({},bd),{storageKey:l}),global:yd},c=Pd(s??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Sd(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Fh(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new mh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new md(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Tf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xf({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new rd(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ef=(t,e,r)=>new kf(t,e,r),Sf="https://oeikxnecjeqdzqvqspxs.supabase.co",Of="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9laWt4bmVjamVxZHpxdnFzcHhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2MDYyNDksImV4cCI6MjA1OTE4MjI0OX0.J4-PGG_oYZJjwi6iN0nCQeBG3aUZfwuGs7CqTwjQEek",Fe=Ef(Sf,Of),Cf=async t=>{try{let{data:e,error:r}=await Fe.from("chat_users").select("*").eq("username",t).maybeSingle();if(!e){const{data:s,error:n}=await Fe.from("chat_users").insert([{username:t}]).select().single();if(n)throw n;return s}return e}catch(e){throw console.error("Error in getOrCreateUser:",e),e}};const ml=(t,e)=>{const r=t.__vccOpts||t;for(const[s,n]of e)r[s]=n;return r},Pf={class:"p-6 border-b border-white/10 backdrop-blur-sm bg-black/10 relative"},Af={class:"flex items-center space-x-4"},$f={class:"relative"},Rf={class:"flex-1 p-4 space-y-2"},Df={class:"flex items-center justify-between mb-6"},If={class:"space-y-2"},jf={class:"grid grid-cols-2 gap-2"},Mf=["onClick"],Lf={__name:"Sidebar",emits:["themeChange","uploadAvatar"],setup(t,{emit:e}){const r=e,s=ie("Home");ie(!1);const n=ie("purple"),i=ie([]),o=ie(null),a={purple:{primary:"from-emerald-900 to-teal-900",secondary:"emerald",accent:"teal",highlight:"emerald-400"},emerald:{primary:"from-emerald-900 to-teal-900",secondary:"emerald",accent:"teal",highlight:"emerald-400"},amber:{primary:"from-amber-900 to-orange-900",secondary:"amber",accent:"orange",highlight:"amber-400"},cosmic:{primary:"from-indigo-900 via-purple-900 to-pink-900",secondary:"indigo",accent:"pink",highlight:"indigo-400"}},l=async()=>{try{const{data:g,error:_}=await Fe.from("chat_rooms").select("*").order("created_at",{ascending:!0});if(_)throw _;i.value=g}catch(g){console.error("Error loading rooms:",g)}};Nr(()=>i.value.filter(g=>!g.is_private)),Nr(()=>i.value.filter(g=>g.is_private));const u=g=>{n.value=g,r("themeChange",a[g])},c=async g=>{if(g.target.files[0])try{r("uploadAvatar","URL_TO_UPLOADED_FILE")}catch(E){console.error("Error uploading file:",E)}},h=()=>{o.value.click()},p=async()=>{await l()};return l(),(g,_)=>(N(),H("div",{class:Be(["h-screen w-64 bg-gradient-to-b",a[n.value].primary,"text-white flex flex-col relative overflow-hidden shadow-2xl"])},[_[6]||(_[6]=v("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[v("div",{class:"animate-float absolute top-0 left-0 w-full h-full opacity-10"},[v("div",{class:"absolute top-1/4 left-1/4 w-32 h-32 rounded-full bg-white blur-3xl"}),v("div",{class:"absolute top-3/4 right-1/4 w-24 h-24 rounded-full bg-white blur-2xl"})])],-1)),v("div",Pf,[v("div",Af,[v("div",{class:"relative group cursor-pointer",onClick:h},[v("div",$f,[oe(Qe(jn),{class:"h-12 w-12 text-white opacity-90 transform transition-transform group-hover:scale-105"}),_[1]||(_[1]=v("div",{class:"absolute inset-0 bg-white/0 group-hover:bg-white/10 rounded-full transition-all duration-300"},null,-1)),oe(Qe(lh),{class:"h-5 w-5 text-yellow-300 absolute -top-1 -right-1 animate-pulse"})]),_[2]||(_[2]=v("div",{class:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 opacity-0 group-hover:opacity-100 animate-shine"},null,-1)),oe(Qe(ah),{class:"h-5 w-5 absolute bottom-0 right-0 text-white/70 transform translate-x-1 translate-y-1"})]),_[3]||(_[3]=v("div",null,[v("h3",{class:"font-[Cinzel] text-lg text-white font-bold tracking-wide"},[Ar(" Merwan"),v("span",{class:"text-yellow-300 animate-twinkle"},"✨")]),v("p",{class:"text-sm text-white/70 font-[Cinzel]"},"Archmage")],-1))]),v("input",{ref_key:"fileInput",ref:o,type:"file",accept:"image/*",class:"hidden",onChange:c},null,544)]),v("nav",Rf,[v("div",Df,[v("button",{onClick:_[0]||(_[0]=E=>{s.value="Home",p()}),class:Be(["flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-300 font-[Cinzel] flex-grow",s.value==="Home"?`bg-gradient-to-r from-${a[n.value].secondary}-600 to-${a[n.value].accent}-600 shadow-lg shadow-${a[n.value].secondary}-500/20`:"text-white/80 hover:bg-white/10 hover:shadow-lg hover:shadow-white/10"])},[oe(Qe(oh),{class:"h-5 w-5"}),_[4]||(_[4]=v("span",{class:"font-semibold"},"Home",-1))],2),v("button",{onClick:p,class:"p-2 rounded-lg hover:bg-white/10 transition-all duration-300 ml-2"},[oe(Qe(ih),{class:"h-5 w-5"})])]),v("div",If,[_[5]||(_[5]=v("h4",{class:"font-[Cinzel] text-sm text-white/70 px-2 mb-2"},"Theme",-1)),v("div",jf,[(N(),H(_e,null,Bt(a,(E,P)=>v("button",{key:P,onClick:D=>u(P),class:Be(["px-3 py-2 rounded-lg transition-all duration-300 text-sm font-[Cinzel]",n.value===P?`bg-gradient-to-r from-${E.secondary}-600 to-${E.accent}-600 shadow-lg shadow-${E.secondary}-500/20`:"bg-white/5 hover:bg-white/10"])},xe(P),11,Mf)),64))])])])],2))}},Uf=ml(Lf,[["__scopeId","data-v-1b184880"]]),ct=Object.create(null);ct.open="0";ct.close="1";ct.ping="2";ct.pong="3";ct.message="4";ct.upgrade="5";ct.noop="6";const ls=Object.create(null);Object.keys(ct).forEach(t=>{ls[ct[t]]=t});const Wn={type:"error",data:"parser error"},vl=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_l=typeof ArrayBuffer=="function",yl=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ki=({type:t,data:e},r,s)=>vl&&e instanceof Blob?r?s(e):Eo(e,s):_l&&(e instanceof ArrayBuffer||yl(e))?r?s(e):Eo(new Blob([e]),s):s(ct[t]+(e||"")),Eo=(t,e)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];e("b"+(s||""))},r.readAsDataURL(t)};function So(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let gn;function Nf(t,e){if(vl&&t.data instanceof Blob)return t.data.arrayBuffer().then(So).then(e);if(_l&&(t.data instanceof ArrayBuffer||yl(t.data)))return e(So(t.data));ki(t,!1,r=>{gn||(gn=new TextEncoder),e(gn.encode(r))})}const Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Oo.length;t++)Tr[Oo.charCodeAt(t)]=t;const Bf=t=>{let e=t.length*.75,r=t.length,s,n=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),c=new Uint8Array(u);for(s=0;s<r;s+=4)i=Tr[t.charCodeAt(s)],o=Tr[t.charCodeAt(s+1)],a=Tr[t.charCodeAt(s+2)],l=Tr[t.charCodeAt(s+3)],c[n++]=i<<2|o>>4,c[n++]=(o&15)<<4|a>>2,c[n++]=(a&3)<<6|l&63;return u},Ff=typeof ArrayBuffer=="function",Ei=(t,e)=>{if(typeof t!="string")return{type:"message",data:wl(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:qf(t.substring(1),e)}:ls[r]?t.length>1?{type:ls[r],data:t.substring(1)}:{type:ls[r]}:Wn},qf=(t,e)=>{if(Ff){const r=Bf(t);return wl(r,e)}else return{base64:!0,data:t}},wl=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},bl=String.fromCharCode(30),Hf=(t,e)=>{const r=t.length,s=new Array(r);let n=0;t.forEach((i,o)=>{ki(i,!1,a=>{s[o]=a,++n===r&&e(s.join(bl))})})},Wf=(t,e)=>{const r=t.split(bl),s=[];for(let n=0;n<r.length;n++){const i=Ei(r[n],e);if(s.push(i),i.type==="error")break}return s};function Vf(){return new TransformStream({transform(t,e){Nf(t,r=>{const s=r.length;let n;if(s<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,s);else if(s<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,s)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(n[0]|=128),e.enqueue(n),e.enqueue(r)})}})}let mn;function rs(t){return t.reduce((e,r)=>e+r.length,0)}function ss(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let s=0;for(let n=0;n<e;n++)r[n]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),r}function Yf(t,e){mn||(mn=new TextDecoder);const r=[];let s=0,n=-1,i=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(s===0){if(rs(r)<1)break;const l=ss(r,1);i=(l[0]&128)===128,n=l[0]&127,n<126?s=3:n===126?s=1:s=2}else if(s===1){if(rs(r)<2)break;const l=ss(r,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),s=3}else if(s===2){if(rs(r)<8)break;const l=ss(r,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,53-32)-1){a.enqueue(Wn);break}n=c*Math.pow(2,32)+u.getUint32(4),s=3}else{if(rs(r)<n)break;const l=ss(r,n);a.enqueue(Ei(i?l:mn.decode(l),e)),s=0}if(n===0||n>t){a.enqueue(Wn);break}}}})}const xl=4;function ce(t){if(t)return zf(t)}function zf(t){for(var e in ce.prototype)t[e]=ce.prototype[e];return t}ce.prototype.on=ce.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ce.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};ce.prototype.off=ce.prototype.removeListener=ce.prototype.removeAllListeners=ce.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,n=0;n<r.length;n++)if(s=r[n],s===e||s.fn===e){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+t],this};ce.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,n=r.length;s<n;++s)r[s].apply(this,e)}return this};ce.prototype.emitReserved=ce.prototype.emit;ce.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ce.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Fs=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),qe=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),Kf="arraybuffer";function Tl(t,...e){return e.reduce((r,s)=>(t.hasOwnProperty(s)&&(r[s]=t[s]),r),{})}const Jf=qe.setTimeout,Gf=qe.clearTimeout;function qs(t,e){e.useNativeTimers?(t.setTimeoutFn=Jf.bind(qe),t.clearTimeoutFn=Gf.bind(qe)):(t.setTimeoutFn=qe.setTimeout.bind(qe),t.clearTimeoutFn=qe.clearTimeout.bind(qe))}const Qf=1.33;function Xf(t){return typeof t=="string"?Zf(t):Math.ceil((t.byteLength||t.size)*Qf)}function Zf(t){let e=0,r=0;for(let s=0,n=t.length;s<n;s++)e=t.charCodeAt(s),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(s++,r+=4);return r}function kl(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ep(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function tp(t){let e={},r=t.split("&");for(let s=0,n=r.length;s<n;s++){let i=r[s].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class rp extends Error{constructor(e,r,s){super(e),this.description=r,this.context=s,this.type="TransportError"}}class Si extends ce{constructor(e){super(),this.writable=!1,qs(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,s){return super.emitReserved("error",new rp(e,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=Ei(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=ep(e);return r.length?"?"+r:""}}class sp extends Si{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Wf(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Hf(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=kl()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let El=!1;try{El=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const np=El;function ip(){}class op extends sp{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,r){const s=this.request({method:"POST",data:e});s.on("success",r),s.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=e}}class at extends ce{constructor(e,r,s){super(),this.createRequest=e,qs(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const r=Tl(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&s.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var n;s.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=at.requestsCount++,at.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ip,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete at.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}at.requestsCount=0;at.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Co);else if(typeof addEventListener=="function"){const t="onpagehide"in qe?"pagehide":"unload";addEventListener(t,Co,!1)}}function Co(){for(let t in at.requests)at.requests.hasOwnProperty(t)&&at.requests[t].abort()}const ap=function(){const t=Sl({xdomain:!1});return t&&t.responseType!==null}();class lp extends op{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=ap&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new at(Sl,this.uri(),e)}}function Sl(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||np))return new XMLHttpRequest}catch{}if(!e)try{return new qe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ol=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class cp extends Si{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,s=Ol?{}:Tl(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,s)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const s=e[r],n=r===e.length-1;ki(s,this.supportsBinary,i=>{try{this.doWrite(s,i)}catch{}n&&Fs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=kl()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const vn=qe.WebSocket||qe.MozWebSocket;class up extends cp{createSocket(e,r,s){return Ol?new vn(e,r,s):r?new vn(e,r):new vn(e)}doWrite(e,r){this.ws.send(r)}}class hp extends Si{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=Yf(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(r).getReader(),n=Vf();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const i=()=>{s.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const s=e[r],n=r===e.length-1;this._writer.write(s).then(()=>{n&&Fs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const dp={websocket:up,webtransport:hp,polling:lp},fp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,pp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Vn(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),s=t.indexOf("]");r!=-1&&s!=-1&&(t=t.substring(0,r)+t.substring(r,s).replace(/:/g,";")+t.substring(s,t.length));let n=fp.exec(t||""),i={},o=14;for(;o--;)i[pp[o]]=n[o]||"";return r!=-1&&s!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=gp(i,i.path),i.queryKey=mp(i,i.query),i}function gp(t,e){const r=/\/{2,9}/g,s=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function mp(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,n,i){n&&(r[n]=i)}),r}const Yn=typeof addEventListener=="function"&&typeof removeEventListener=="function",cs=[];Yn&&addEventListener("offline",()=>{cs.forEach(t=>t())},!1);class kt extends ce{constructor(e,r){if(super(),this.binaryType=Kf,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const s=Vn(e);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=Vn(r.host).host);qs(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const n=s.prototype.name;this.transports.push(n),this._transportsByName[n]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=tp(this.opts.query)),Yn&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},cs.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=xl,r.transport=e,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&kt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",kt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(r+=Xf(n)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Fs(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,s){return this._sendPacket("message",e,r,s),this}send(e,r,s){return this._sendPacket("message",e,r,s),this}_sendPacket(e,r,s,n){if(typeof r=="function"&&(n=r,r=void 0),typeof s=="function"&&(n=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const i={type:e,data:r,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(kt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Yn&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=cs.indexOf(this._offlineEventListener);s!==-1&&cs.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}kt.protocol=xl;class vp extends kt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),s=!1;kt.priorWebsocketSuccess=!1;const n=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;kt.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(c(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function i(){s||(s=!0,c(),r.close(),r=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=r.name,i(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function u(h){r&&h.name!==r.name&&i()}const c=()=>{r.removeListener("open",n),r.removeListener("error",o),r.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};r.once("open",n),r.once("error",o),r.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&r.push(e[s]);return r}}let _p=class extends vp{constructor(e,r={}){const s=typeof e=="object"?e:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(n=>dp[n]).filter(n=>!!n)),super(e,s)}};function yp(t,e="",r){let s=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),s=Vn(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(r&&r.port===s.port?"":":"+s.port),s}const wp=typeof ArrayBuffer=="function",bp=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Cl=Object.prototype.toString,xp=typeof Blob=="function"||typeof Blob<"u"&&Cl.call(Blob)==="[object BlobConstructor]",Tp=typeof File=="function"||typeof File<"u"&&Cl.call(File)==="[object FileConstructor]";function Oi(t){return wp&&(t instanceof ArrayBuffer||bp(t))||xp&&t instanceof Blob||Tp&&t instanceof File}function us(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,s=t.length;r<s;r++)if(us(t[r]))return!0;return!1}if(Oi(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return us(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&us(t[r]))return!0;return!1}function kp(t){const e=[],r=t.data,s=t;return s.data=zn(r,e),s.attachments=e.length,{packet:s,buffers:e}}function zn(t,e){if(!t)return t;if(Oi(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let s=0;s<t.length;s++)r[s]=zn(t[s],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=zn(t[s],e));return r}return t}function Ep(t,e){return t.data=Kn(t.data,e),delete t.attachments,t}function Kn(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Kn(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Kn(t[r],e));return t}const Sp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Op=5;var Y;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Y||(Y={}));class Cp{constructor(e){this.replacer=e}encode(e){return(e.type===Y.EVENT||e.type===Y.ACK)&&us(e)?this.encodeAsBinary({type:e.type===Y.EVENT?Y.BINARY_EVENT:Y.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Y.BINARY_EVENT||e.type===Y.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=kp(e),s=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(s),n}}function Po(t){return Object.prototype.toString.call(t)==="[object Object]"}class Ci extends ce{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const s=r.type===Y.BINARY_EVENT;s||r.type===Y.BINARY_ACK?(r.type=s?Y.EVENT:Y.ACK,this.reconstructor=new Pp(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Oi(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const s={type:Number(e.charAt(0))};if(Y[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Y.BINARY_EVENT||s.type===Y.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(i,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(o)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););s.nsp=e.substring(i,r)}else s.nsp="/";const n=e.charAt(r+1);if(n!==""&&Number(n)==n){const i=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}s.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(Ci.isPayloadValid(s.type,i))s.data=i;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Y.CONNECT:return Po(r);case Y.DISCONNECT:return r===void 0;case Y.CONNECT_ERROR:return typeof r=="string"||Po(r);case Y.EVENT:case Y.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Sp.indexOf(r[0])===-1);case Y.ACK:case Y.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Pp{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=Ep(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ap=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ci,Encoder:Cp,get PacketType(){return Y},protocol:Op},Symbol.toStringTag,{value:"Module"}));function Ge(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const $p=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Pl extends ce{constructor(e,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ge(e,"open",this.onopen.bind(this)),Ge(e,"packet",this.onpacket.bind(this)),Ge(e,"error",this.onerror.bind(this)),Ge(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var s,n,i;if($p.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Y.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const c=this.ids++,h=r.pop();this._registerAckCallback(c,h),o.id=c}const a=(n=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||n===void 0?void 0:n.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var s;const n=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(n===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},n),o=(...a)=>{this.io.clearTimeoutFn(i),r.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((s,n)=>{const i=(o,a)=>o?n(o):s(a);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((n,...i)=>s!==this._queue[0]?void 0:(n!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...i)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Y.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Y.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Y.EVENT:case Y.BINARY_EVENT:this.onevent(e);break;case Y.ACK:case Y.BINARY_ACK:this.onack(e);break;case Y.DISCONNECT:this.ondisconnect();break;case Y.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let s=!1;return function(...n){s||(s=!0,r.packet({type:Y.ACK,id:e,data:n}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Y.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(e===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(e===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,e.data)}}}function dr(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}dr.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};dr.prototype.reset=function(){this.attempts=0};dr.prototype.setMin=function(t){this.ms=t};dr.prototype.setMax=function(t){this.max=t};dr.prototype.setJitter=function(t){this.jitter=t};class Jn extends ce{constructor(e,r){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,qs(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new dr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const n=r.parser||Ap;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new _p(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=Ge(r,"open",function(){s.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Ge(r,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),r.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ge(e,"ping",this.onping.bind(this)),Ge(e,"data",this.ondata.bind(this)),Ge(e,"error",this.onerror.bind(this)),Ge(e,"close",this.onclose.bind(this)),Ge(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Fs(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new Pl(this,e,r),this.nsps[e]=s),s}_destroy(e){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let s=0;s<r.length;s++)this.engine.write(r[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",n)):e.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const _r={};function hs(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=yp(t,e.path||"/socket.io"),s=r.source,n=r.id,i=r.path,o=_r[n]&&i in _r[n].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Jn(s,e):(_r[n]||(_r[n]=new Jn(s,e)),l=_r[n]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(hs,{Manager:Jn,Socket:Pl,io:hs,connect:hs});const Rp="https://fly-patient-firefly-4760.fly.dev",Pe=hs(Rp,{autoConnect:!1,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),Dp=t=>{Pe.connected||(Pe.connect(),Pe.emit("join",t))},Ip=()=>{Pe.connected&&Pe.disconnect()};Pe.on("connect",()=>{console.log("Connected to server")});Pe.on("disconnect",()=>{console.log("Disconnected from server")});Pe.on("error",t=>{console.error("Socket error:",t)});const jp={class:"h-screen w-72 bg-gray-50 border-l flex flex-col"},Mp={class:"p-4 bg-white border-b flex justify-between items-center shadow-sm"},Lp={class:"text-sm text-gray-500"},Up={class:"flex-1 overflow-y-auto p-4 space-y-2"},Np={key:0,class:"space-y-2"},Bp={class:"flex items-center space-x-3"},Fp={class:"relative"},qp={class:"font-medium text-gray-900"},Hp=["onClick"],Wp={key:1,class:"mt-6"},Vp={class:"space-y-2"},Yp={class:"flex items-center space-x-3"},zp={class:"relative"},Kp={class:"font-medium text-gray-600"},Jp={class:"text-xs text-gray-400"},Gp=["onClick"],Qp={__name:"RightSidebar",emits:["close"],setup(t,{emit:e}){const r=ie([]),s=Nr(()=>{const a=new Date(Date.now()-3e5);return r.value.filter(l=>new Date(l.last_seen)>a)}),n=async()=>{try{const{data:a,error:l}=await Fe.from("chat_users").select("*");if(l){console.error("Error loading users:",l);return}r.value=a||[]}catch(a){console.error("Error loading users:",a)}},i=async a=>{r.value=r.value.filter(l=>l.id!==a)},o=a=>{const l=Math.floor((new Date-new Date(a))/1e3);return l<60?"just now":l<3600?`${Math.floor(l/60)}m ago`:l<86400?`${Math.floor(l/3600)}h ago`:`${Math.floor(l/86400)}d ago`};return As(async()=>{await n(),Pe.on("user_joined",a=>{const l=r.value.findIndex(u=>u.id===a.id);l!==-1?r.value[l]=a:r.value.push(a)}),Pe.on("user_left",({userId:a})=>{const l=r.value.find(u=>u.id===a);l&&(l.last_seen=new Date().toISOString())})}),qr(()=>{Pe.off("user_joined"),Pe.off("user_left")}),(a,l)=>(N(),H("div",jp,[v("div",Mp,[v("div",null,[l[1]||(l[1]=v("h3",{class:"font-semibold text-gray-800"},"Online Users",-1)),v("p",Lp,xe(s.value.length)+" active now",1)]),v("button",{onClick:l[0]||(l[0]=u=>a.$emit("close")),class:"p-2 rounded-lg hover:bg-gray-100 transition-colors"},[oe(Qe(ln),{class:"h-5 w-5 text-gray-500"})])]),v("div",Up,[s.value.length>0?(N(),H("div",Np,[(N(!0),H(_e,null,Bt(s.value,u=>(N(),H("div",{key:u.id,class:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow"},[v("div",Bp,[v("div",Fp,[oe(Qe(jn),{class:"h-10 w-10 text-gray-700"}),l[2]||(l[2]=v("div",{class:"absolute bottom-0 right-0 h-3 w-3 bg-green-500 rounded-full border-2 border-white"},null,-1))]),v("div",null,[v("span",qp,xe(u.username),1),l[3]||(l[3]=v("p",{class:"text-xs text-green-600"},"Online",-1))])]),v("button",{onClick:c=>i(u.id),class:"p-1.5 rounded-full hover:bg-red-50 group transition-colors"},[oe(Qe(ln),{class:"h-5 w-5 text-gray-400 group-hover:text-red-500"})],8,Hp)]))),128))])):Lt("",!0),r.value.length>s.value.length?(N(),H("div",Wp,[l[5]||(l[5]=v("h4",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3"},"Offline",-1)),v("div",Vp,[(N(!0),H(_e,null,Bt(r.value.filter(u=>!s.value.includes(u)),u=>(N(),H("div",{key:u.id,class:"flex items-center justify-between p-3 bg-white/50 rounded-lg"},[v("div",Yp,[v("div",zp,[oe(Qe(jn),{class:"h-10 w-10 text-gray-400"}),l[4]||(l[4]=v("div",{class:"absolute bottom-0 right-0 h-3 w-3 bg-gray-300 rounded-full border-2 border-white"},null,-1))]),v("div",null,[v("span",Kp,xe(u.username),1),v("p",Jp,"Last seen "+xe(o(u.last_seen)),1)])]),v("button",{onClick:c=>i(u.id),class:"p-1.5 rounded-full hover:bg-red-50 group transition-colors"},[oe(Qe(ln),{class:"h-5 w-5 text-gray-300 group-hover:text-red-500"})],8,Gp)]))),128))])])):Lt("",!0)])]))}};function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function Ht(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function we(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function et(t){we(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ys(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xp(t,e){we(2,arguments);var r=et(t).getTime(),s=Ht(e);return new Date(r+s)}var Zp={};function Hs(){return Zp}function eg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function tg(t){return we(1,arguments),t instanceof Date||ys(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rg(t){if(we(1,arguments),!tg(t)&&typeof t!="number")return!1;var e=et(t);return!isNaN(Number(e))}function sg(t,e){we(2,arguments);var r=Ht(e);return Xp(t,-r)}var ng=864e5;function ig(t){we(1,arguments);var e=et(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var s=e.getTime(),n=r-s;return Math.floor(n/ng)+1}function ws(t){we(1,arguments);var e=1,r=et(t),s=r.getUTCDay(),n=(s<e?7:0)+s-e;return r.setUTCDate(r.getUTCDate()-n),r.setUTCHours(0,0,0,0),r}function Al(t){we(1,arguments);var e=et(t),r=e.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(r+1,0,4),s.setUTCHours(0,0,0,0);var n=ws(s),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=ws(i);return e.getTime()>=n.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function og(t){we(1,arguments);var e=Al(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var s=ws(r);return s}var ag=6048e5;function lg(t){we(1,arguments);var e=et(t),r=ws(e).getTime()-og(e).getTime();return Math.round(r/ag)+1}function bs(t,e){var r,s,n,i,o,a,l,u;we(1,arguments);var c=Hs(),h=Ht((r=(s=(n=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:c.weekStartsOn)!==null&&s!==void 0?s:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=et(t),g=p.getUTCDay(),_=(g<h?7:0)+g-h;return p.setUTCDate(p.getUTCDate()-_),p.setUTCHours(0,0,0,0),p}function $l(t,e){var r,s,n,i,o,a,l,u;we(1,arguments);var c=et(t),h=c.getUTCFullYear(),p=Hs(),g=Ht((r=(s=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&n!==void 0?n:p.firstWeekContainsDate)!==null&&s!==void 0?s:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(h+1,0,g),_.setUTCHours(0,0,0,0);var E=bs(_,e),P=new Date(0);P.setUTCFullYear(h,0,g),P.setUTCHours(0,0,0,0);var D=bs(P,e);return c.getTime()>=E.getTime()?h+1:c.getTime()>=D.getTime()?h:h-1}function cg(t,e){var r,s,n,i,o,a,l,u;we(1,arguments);var c=Hs(),h=Ht((r=(s=(n=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&n!==void 0?n:c.firstWeekContainsDate)!==null&&s!==void 0?s:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=$l(t,e),g=new Date(0);g.setUTCFullYear(p,0,h),g.setUTCHours(0,0,0,0);var _=bs(g,e);return _}var ug=6048e5;function hg(t,e){we(1,arguments);var r=et(t),s=bs(r,e).getTime()-cg(r,e).getTime();return Math.round(s/ug)+1}function Z(t,e){for(var r=t<0?"-":"",s=Math.abs(t).toString();s.length<e;)s="0"+s;return r+s}var dg={y:function(e,r){var s=e.getUTCFullYear(),n=s>0?s:1-s;return Z(r==="yy"?n%100:n,r.length)},M:function(e,r){var s=e.getUTCMonth();return r==="M"?String(s+1):Z(s+1,2)},d:function(e,r){return Z(e.getUTCDate(),r.length)},a:function(e,r){var s=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(e,r){return Z(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Z(e.getUTCHours(),r.length)},m:function(e,r){return Z(e.getUTCMinutes(),r.length)},s:function(e,r){return Z(e.getUTCSeconds(),r.length)},S:function(e,r){var s=r.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,s-3));return Z(i,r.length)}};const mt=dg;var Qt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fg={G:function(e,r,s){var n=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,r,s){if(r==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return mt.y(e,r)},Y:function(e,r,s,n){var i=$l(e,n),o=i>0?i:1-i;if(r==="YY"){var a=o%100;return Z(a,2)}return r==="Yo"?s.ordinalNumber(o,{unit:"year"}):Z(o,r.length)},R:function(e,r){var s=Al(e);return Z(s,r.length)},u:function(e,r){var s=e.getUTCFullYear();return Z(s,r.length)},Q:function(e,r,s){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return Z(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,s){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return Z(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,s){var n=e.getUTCMonth();switch(r){case"M":case"MM":return mt.M(e,r);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,s){var n=e.getUTCMonth();switch(r){case"L":return String(n+1);case"LL":return Z(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,s,n){var i=hg(e,n);return r==="wo"?s.ordinalNumber(i,{unit:"week"}):Z(i,r.length)},I:function(e,r,s){var n=lg(e);return r==="Io"?s.ordinalNumber(n,{unit:"week"}):Z(n,r.length)},d:function(e,r,s){return r==="do"?s.ordinalNumber(e.getUTCDate(),{unit:"date"}):mt.d(e,r)},D:function(e,r,s){var n=ig(e);return r==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):Z(n,r.length)},E:function(e,r,s){var n=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,s,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Z(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,s,n){var i=e.getUTCDay(),o=(i-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Z(o,r.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,s){var n=e.getUTCDay(),i=n===0?7:n;switch(r){case"i":return String(i);case"ii":return Z(i,r.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,s){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,s){var n=e.getUTCHours(),i;switch(n===12?i=Qt.noon:n===0?i=Qt.midnight:i=n/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,s){var n=e.getUTCHours(),i;switch(n>=17?i=Qt.evening:n>=12?i=Qt.afternoon:n>=4?i=Qt.morning:i=Qt.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,s){if(r==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return mt.h(e,r)},H:function(e,r,s){return r==="Ho"?s.ordinalNumber(e.getUTCHours(),{unit:"hour"}):mt.H(e,r)},K:function(e,r,s){var n=e.getUTCHours()%12;return r==="Ko"?s.ordinalNumber(n,{unit:"hour"}):Z(n,r.length)},k:function(e,r,s){var n=e.getUTCHours();return n===0&&(n=24),r==="ko"?s.ordinalNumber(n,{unit:"hour"}):Z(n,r.length)},m:function(e,r,s){return r==="mo"?s.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):mt.m(e,r)},s:function(e,r,s){return r==="so"?s.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):mt.s(e,r)},S:function(e,r){return mt.S(e,r)},X:function(e,r,s,n){var i=n._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return $o(o);case"XXXX":case"XX":return Mt(o);case"XXXXX":case"XXX":default:return Mt(o,":")}},x:function(e,r,s,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(r){case"x":return $o(o);case"xxxx":case"xx":return Mt(o);case"xxxxx":case"xxx":default:return Mt(o,":")}},O:function(e,r,s,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Ao(o,":");case"OOOO":default:return"GMT"+Mt(o,":")}},z:function(e,r,s,n){var i=n._originalDate||e,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Ao(o,":");case"zzzz":default:return"GMT"+Mt(o,":")}},t:function(e,r,s,n){var i=n._originalDate||e,o=Math.floor(i.getTime()/1e3);return Z(o,r.length)},T:function(e,r,s,n){var i=n._originalDate||e,o=i.getTime();return Z(o,r.length)}};function Ao(t,e){var r=t>0?"-":"+",s=Math.abs(t),n=Math.floor(s/60),i=s%60;if(i===0)return r+String(n);var o=e||"";return r+String(n)+o+Z(i,2)}function $o(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Z(Math.abs(t)/60,2)}return Mt(t,e)}function Mt(t,e){var r=e||"",s=t>0?"-":"+",n=Math.abs(t),i=Z(Math.floor(n/60),2),o=Z(n%60,2);return s+i+r+o}const pg=fg;var Ro=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Rl=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},gg=function(e,r){var s=e.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return Ro(e,r);var o;switch(n){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Ro(n,r)).replace("{{time}}",Rl(i,r))},mg={p:Rl,P:gg};const vg=mg;var _g=["D","DD"],yg=["YY","YYYY"];function wg(t){return _g.indexOf(t)!==-1}function bg(t){return yg.indexOf(t)!==-1}function Do(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var xg={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tg=function(e,r,s){var n,i=xg[e];return typeof i=="string"?n=i:r===1?n=i.one:n=i.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};const kg=Tg;function _n(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,s=t.formats[r]||t.formats[t.defaultWidth];return s}}var Eg={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sg={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Og={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cg={date:_n({formats:Eg,defaultWidth:"full"}),time:_n({formats:Sg,defaultWidth:"full"}),dateTime:_n({formats:Og,defaultWidth:"full"})};const Pg=Cg;var Ag={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$g=function(e,r,s,n){return Ag[e]};const Rg=$g;function yr(t){return function(e,r){var s=r!=null&&r.context?String(r.context):"standalone",n;if(s==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):i;n=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;n=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return n[u]}}var Dg={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ig={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jg={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mg={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lg={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ug={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ng=function(e,r){var s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Bg={ordinalNumber:Ng,era:yr({values:Dg,defaultWidth:"wide"}),quarter:yr({values:Ig,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:yr({values:jg,defaultWidth:"wide"}),day:yr({values:Mg,defaultWidth:"wide"}),dayPeriod:yr({values:Lg,defaultWidth:"wide",formattingValues:Ug,defaultFormattingWidth:"wide"})};const Fg=Bg;function wr(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.width,n=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(n);if(!i)return null;var o=i[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Hg(a,function(h){return h.test(o)}):qg(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function qg(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function Hg(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Wg(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.match(t.matchPattern);if(!s)return null;var n=s[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var a=e.slice(n.length);return{value:o,rest:a}}}var Vg=/^(\d+)(th|st|nd|rd)?/i,Yg=/\d+/i,zg={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kg={any:[/^b/i,/^(a|c)/i]},Jg={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gg={any:[/1/i,/2/i,/3/i,/4/i]},Qg={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xg={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zg={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},em={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sm={ordinalNumber:Wg({matchPattern:Vg,parsePattern:Yg,valueCallback:function(e){return parseInt(e,10)}}),era:wr({matchPatterns:zg,defaultMatchWidth:"wide",parsePatterns:Kg,defaultParseWidth:"any"}),quarter:wr({matchPatterns:Jg,defaultMatchWidth:"wide",parsePatterns:Gg,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:wr({matchPatterns:Qg,defaultMatchWidth:"wide",parsePatterns:Xg,defaultParseWidth:"any"}),day:wr({matchPatterns:Zg,defaultMatchWidth:"wide",parsePatterns:em,defaultParseWidth:"any"}),dayPeriod:wr({matchPatterns:tm,defaultMatchWidth:"any",parsePatterns:rm,defaultParseWidth:"any"})};const nm=sm;var im={code:"en-US",formatDistance:kg,formatLong:Pg,formatRelative:Rg,localize:Fg,match:nm,options:{weekStartsOn:0,firstWeekContainsDate:1}};const om=im;var am=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lm=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cm=/^'([^]*?)'?$/,um=/''/g,hm=/[a-zA-Z]/;function dm(t,e,r){var s,n,i,o,a,l,u,c,h,p,g,_,E,P,D,q,B,A;we(2,arguments);var V=String(e),pe=Hs(),he=(s=(n=r==null?void 0:r.locale)!==null&&n!==void 0?n:pe.locale)!==null&&s!==void 0?s:om,Se=Ht((i=(o=(a=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:pe.firstWeekContainsDate)!==null&&o!==void 0?o:(h=pe.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(Se>=1&&Se<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=Ht((g=(_=(E=(P=r==null?void 0:r.weekStartsOn)!==null&&P!==void 0?P:r==null||(D=r.locale)===null||D===void 0||(q=D.options)===null||q===void 0?void 0:q.weekStartsOn)!==null&&E!==void 0?E:pe.weekStartsOn)!==null&&_!==void 0?_:(B=pe.locale)===null||B===void 0||(A=B.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&g!==void 0?g:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!he.localize)throw new RangeError("locale must contain localize property");if(!he.formatLong)throw new RangeError("locale must contain formatLong property");var S=et(t);if(!rg(S))throw new RangeError("Invalid time value");var R=eg(S),Ae=sg(S,R),$e={firstWeekContainsDate:Se,weekStartsOn:F,locale:he,_originalDate:S},Ye=V.match(lm).map(function(le){var ee=le[0];if(ee==="p"||ee==="P"){var K=vg[ee];return K(le,he.formatLong)}return le}).join("").match(am).map(function(le){if(le==="''")return"'";var ee=le[0];if(ee==="'")return fm(le);var K=pg[ee];if(K)return!(r!=null&&r.useAdditionalWeekYearTokens)&&bg(le)&&Do(le,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&wg(le)&&Do(le,e,String(t)),K(Ae,le,he.localize,$e);if(ee.match(hm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");return le}).join("");return Ye}function fm(t){var e=t.match(cm);return e?e[1].replace(um,"'"):t}function pm(t){we(1,arguments);var e=et(t),r=e.getHours();return r}var Dl={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Dl);var gm=Dl.exports,Gn={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(s){if(s===null||s===!0||s===!1)return NaN;var n=Number(s);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}t.exports=e.default})(Gn,Gn.exports);var mm=Gn.exports;const vm=yi(mm);var Qn={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(s){var n=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return n.setUTCFullYear(s.getFullYear()),s.getTime()-n.getTime()}t.exports=e.default})(Qn,Qn.exports);var _m=Qn.exports;const Io=yi(_m);function ym(t,e){var r=Tm(e);return r.formatToParts?bm(r,t):xm(r,t)}var wm={year:0,month:1,day:2,hour:3,minute:4,second:5};function bm(t,e){try{for(var r=t.formatToParts(e),s=[],n=0;n<r.length;n++){var i=wm[r[n].type];i>=0&&(s[i]=parseInt(r[n].value,10))}return s}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function xm(t,e){var r=t.format(e),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[s[3],s[1],s[2],s[4],s[5],s[6]]}var yn={};function Tm(t){if(!yn[t]){var e=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";yn[t]=r?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return yn[t]}function Pi(t,e,r,s,n,i,o){var a=new Date(0);return a.setUTCFullYear(t,e,r),a.setUTCHours(s,n,i,o),a}var jo=36e5,km=6e4,wn={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Il(t,e,r){var s,n;if(!t||(s=wn.timezoneZ.exec(t),s))return 0;var i;if(s=wn.timezoneHH.exec(t),s)return i=parseInt(s[1],10),Mo(i)?-(i*jo):NaN;if(s=wn.timezoneHHMM.exec(t),s){i=parseInt(s[2],10);var o=parseInt(s[3],10);return Mo(i,o)?(n=Math.abs(i)*jo+o*km,s[1]==="+"?-n:n):NaN}if(Om(t)){e=new Date(e||Date.now());var a=r?e:Em(e),l=Xn(a,t),u=r?l:Sm(e,l,t);return-u}return NaN}function Em(t){return Pi(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Xn(t,e){var r=ym(t,e),s=Pi(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),n=t.getTime(),i=n%1e3;return n-=i>=0?i:1e3+i,s-n}function Sm(t,e,r){var s=t.getTime(),n=s-e,i=Xn(new Date(n),r);if(e===i)return e;n-=i-e;var o=Xn(new Date(n),r);return i===o?i:Math.max(i,o)}function Mo(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var Lo={};function Om(t){if(Lo[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Lo[t]=!0,!0}catch{return!1}}var Cm=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const jl=Cm;var bn=36e5,Uo=6e4,Pm=2,Ee={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:jl};function No(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var r=e||{},s=r.additionalDigits==null?Pm:vm(r.additionalDigits);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var n=Am(t),i=$m(n.date,s),o=i.year,a=i.restDateString,l=Rm(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(n.time&&(c=Dm(n.time),isNaN(c)))return new Date(NaN);if(n.timeZone||r.timeZone){if(h=Il(n.timeZone||r.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=Io(new Date(u+c)),h=Io(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function Am(t){var e={},r=Ee.dateTimePattern.exec(t),s;if(r?(e.date=r[1],s=r[3]):(r=Ee.datePattern.exec(t),r?(e.date=r[1],s=r[2]):(e.date=null,s=t)),s){var n=Ee.timeZone.exec(s);n?(e.time=s.replace(n[1],""),e.timeZone=n[1].trim()):e.time=s}return e}function $m(t,e){var r=Ee.YYY[e],s=Ee.YYYYY[e],n;if(n=Ee.YYYY.exec(t)||s.exec(t),n){var i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=Ee.YY.exec(t)||r.exec(t),n){var o=n[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function Rm(t,e){if(e===null)return null;var r,s,n,i;if(t.length===0)return s=new Date(0),s.setUTCFullYear(e),s;if(r=Ee.MM.exec(t),r)return s=new Date(0),n=parseInt(r[1],10)-1,Fo(e,n)?(s.setUTCFullYear(e,n),s):new Date(NaN);if(r=Ee.DDD.exec(t),r){s=new Date(0);var o=parseInt(r[1],10);return Mm(e,o)?(s.setUTCFullYear(e,0,o),s):new Date(NaN)}if(r=Ee.MMDD.exec(t),r){s=new Date(0),n=parseInt(r[1],10)-1;var a=parseInt(r[2],10);return Fo(e,n,a)?(s.setUTCFullYear(e,n,a),s):new Date(NaN)}if(r=Ee.Www.exec(t),r)return i=parseInt(r[1],10)-1,qo(e,i)?Bo(e,i):new Date(NaN);if(r=Ee.WwwD.exec(t),r){i=parseInt(r[1],10)-1;var l=parseInt(r[2],10)-1;return qo(e,i,l)?Bo(e,i,l):new Date(NaN)}return null}function Dm(t){var e,r,s;if(e=Ee.HH.exec(t),e)return r=parseFloat(e[1].replace(",",".")),xn(r)?r%24*bn:NaN;if(e=Ee.HHMM.exec(t),e)return r=parseInt(e[1],10),s=parseFloat(e[2].replace(",",".")),xn(r,s)?r%24*bn+s*Uo:NaN;if(e=Ee.HHMMSS.exec(t),e){r=parseInt(e[1],10),s=parseInt(e[2],10);var n=parseFloat(e[3].replace(",","."));return xn(r,s,n)?r%24*bn+s*Uo+n*1e3:NaN}return null}function Bo(t,e,r){e=e||0,r=r||0;var s=new Date(0);s.setUTCFullYear(t,0,4);var n=s.getUTCDay()||7,i=e*7+r+1-n;return s.setUTCDate(s.getUTCDate()+i),s}var Im=[31,28,31,30,31,30,31,31,30,31,30,31],jm=[31,29,31,30,31,30,31,31,30,31,30,31];function Ml(t){return t%400===0||t%4===0&&t%100!==0}function Fo(t,e,r){if(e<0||e>11)return!1;if(r!=null){if(r<1)return!1;var s=Ml(t);if(s&&r>jm[e]||!s&&r>Im[e])return!1}return!0}function Mm(t,e){if(e<1)return!1;var r=Ml(t);return!(r&&e>366||!r&&e>365)}function qo(t,e,r){return!(e<0||e>52||r!=null&&(r<0||r>6))}function xn(t,e,r){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||r!=null&&(r<0||r>=60))}var Zn={exports:{}},ei={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(s,n){if(s==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i]);return s}t.exports=e.default})(ei,ei.exports);var Lm=ei.exports;(function(t,e){var r=gm.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var s=r(Lm);function n(i){return(0,s.default)({},i)}t.exports=e.default})(Zn,Zn.exports);var Um=Zn.exports;const Nm=yi(Um);function Bm(t,e,r){if(typeof t=="string"&&!t.match(jl)){var s=Nm(r);return s.timeZone=e,No(t,s)}var n=No(t,r),i=Pi(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()).getTime(),o=Il(e,new Date(i));return new Date(i+o)}const Fm={class:"sun-container relative h-24 overflow-hidden rounded-t-lg"},qm={class:"absolute bottom-2 right-2 text-white text-sm font-wizard"},Hm={__name:"SunAnimation",setup(t){const e=ie(""),r=ie(0),s=ie("day"),n=()=>{const o=Bm(new Date,"Africa/Cairo"),a=pm(o);e.value=dm(o,"HH:mm:ss"),r.value=a%12/12*180,a>=6&&a<12?s.value="morning":a>=12&&a<17?s.value="day":a>=17&&a<20?s.value="evening":s.value="night"};let i;return As(()=>{n(),i=setInterval(n,1e3)}),qr(()=>{clearInterval(i)}),(o,a)=>(N(),H("div",Fm,[v("div",{class:Be(["absolute w-full h-full transition-colors duration-1000",{"bg-gradient-to-b from-orange-200 to-blue-300":s.value==="morning","bg-gradient-to-b from-blue-400 to-blue-200":s.value==="day","bg-gradient-to-b from-orange-500 to-purple-700":s.value==="evening","bg-gradient-to-b from-blue-900 to-purple-900":s.value==="night"}])},[v("div",{class:Be(["sun absolute w-12 h-12 rounded-full transform -translate-x-1/2 -translate-y-1/2",{"bg-yellow-300":s.value==="day","bg-orange-400":s.value==="morning"||s.value==="evening","bg-gray-200":s.value==="night"}]),style:Ss({left:"50%",top:"100%",transform:`rotate(${r.value}deg) translateY(-60px) rotate(-${r.value}deg)`})},null,6)],2),v("div",qm,xe(e.value)+" (Alexandria) ",1)]))}},Wm=ml(Hm,[["__scopeId","data-v-f2b16ad8"]]),Vm={class:"fixed bottom-20 left-4 bg-white rounded-lg shadow-lg p-4 border-2 border-purple-200"},Ym={class:"flex justify-between items-center mb-2"},zm={class:"grid grid-cols-5 gap-2"},Km=["onClick"],Jm={__name:"EmojiPicker",emits:["select","close"],setup(t,{emit:e}){const r=e,s=["😊","😂","🥰","😎","🤔","😴","🥳","🧙‍♂️","✨","🌟","⭐","🔮","🎭","🎪","🎨","🎯","🎲","🎮","🎼","🎵"],n=i=>{r("select",i)};return(i,o)=>(N(),H("div",Vm,[v("div",Ym,[o[1]||(o[1]=v("h3",{class:"font-wizard text-purple-800"},"Select Emoji",-1)),v("button",{onClick:o[0]||(o[0]=a=>i.$emit("close")),class:"text-gray-500 hover:text-gray-700"}," × ")]),v("div",zm,[(N(),H(_e,null,Bt(s,a=>v("button",{key:a,onClick:l=>n(a),class:"text-2xl p-2 hover:bg-purple-50 rounded-lg transition-colors"},xe(a),9,Km)),64))])]))}};const Gm={class:"flex flex-col h-full bg-gray-50"},Qm={key:0,class:"flex items-center justify-center h-full"},Xm={class:"bg-white p-8 rounded-lg shadow-lg w-96 border-2 border-purple-300"},Zm={class:"space-y-2"},ev={key:1,class:"flex h-full"},tv={class:"w-64 bg-white border-r p-4"},rv={class:"space-y-2"},sv=["onClick"],nv={class:"flex-1 flex flex-col"},iv={class:"flex flex-col items-start space-y-1"},ov={class:"flex items-center space-x-2 mb-1"},av=["src","alt"],lv={class:"text-sm font-wizard text-purple-800"},cv={key:0,class:"text-xs text-purple-500"},uv={class:"text-gray-800 font-medieval"},hv={class:"text-xs text-gray-500 mt-1 font-wizard"},dv={class:"flex space-x-1"},fv={class:"text-xs text-gray-500"},pv={class:"border-t bg-white p-4"},gv={class:"flex items-center space-x-2 mb-2"},mv={key:0,class:"flex items-center space-x-2 bg-purple-50 px-3 py-1 rounded-full"},vv={class:"text-sm text-purple-700"},_v={key:0,class:"text-sm text-purple-600 mt-1 font-wizard"},yv={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},wv={class:"bg-white p-6 rounded-lg shadow-xl w-96"},bv={class:"flex justify-end space-x-2"},xv={__name:"Chat",setup(t){const e=ie([]),r=ie(""),s=ie(null),n=ie(null),i=ie(""),o=ie(!0),a=ie(!1),l=ie(null),u=ie([]),c=ie(!1);ie(null);const h=ie(null),p=ie(!1),g=ie(""),_=ie(""),E=Nr(()=>e.value.filter(F=>{var S,R;return l.value?F.room_id===l.value.id:!F.room_id&&(!F.is_private||F.user_id===((S=n.value)==null?void 0:S.id)||F.recipient_id===((R=n.value)==null?void 0:R.id))})),P=()=>{s.value&&(s.value.scrollTop=s.value.scrollHeight)},D=async()=>{try{const{data:F,error:S}=await Fe.from("messages").select(`
        *,
        user:chat_users!messages_sender_fkey(username, avatar_url),
        message_reactions(
          id,
          emoji,
          user_id,
          reactor:chat_users!reactions_reactor_fk(username)
        )
      `).order("created_at",{ascending:!0});if(S)throw S;e.value=F,P()}catch(F){console.error("Error loading messages:",F)}},q=async()=>{try{const{data:F,error:S}=await Fe.from("chat_rooms").select("*").order("created_at",{ascending:!0});if(S)throw S;u.value=F}catch(F){console.error("Error loading rooms:",F)}},B=async F=>{if(!n.value){alert("Please enter your username first"),F.target.value="";return}const S=F.target.files[0];if(!S)return;const R=S.name.split(".").pop(),$e=`${`${Math.random()}.${R}`}`,{error:Ye}=await Fe.storage.from("avatars").upload($e,S);if(Ye){console.error("Error uploading file:",Ye);return}const{data:{publicUrl:le}}=Fe.storage.from("avatars").getPublicUrl($e);await Fe.from("chat_users").update({avatar_url:le}).eq("id",n.value.id),n.value.avatar_url=le},A=async(F,S)=>{const{error:R}=await Fe.from("message_reactions").insert({message_id:F,user_id:n.value.id,emoji:S});if(R){console.error("Error adding reaction:",R);return}await D()},V=async()=>{if(!g.value.trim())return;const{data:F,error:S}=await Fe.from("chat_rooms").insert({name:g.value,description:_.value,created_by:n.value.id}).select().single();if(S){console.error("Error creating room:",S);return}await Fe.from("room_members").insert({room_id:F.id,user_id:n.value.id}),u.value.push(F),p.value=!1,g.value="",_.value=""},pe=async()=>{var S,R;if(!r.value.trim()||!n.value)return;const F={content:r.value,user_id:n.value.id,room_id:(S=l.value)==null?void 0:S.id,is_private:!!h.value,recipient_id:(R=h.value)==null?void 0:R.id};Pe.emit("chat_message",F),r.value="",a.value=!1,h.value=null},he=()=>{a.value=!0,setTimeout(()=>{a.value=!1},2e3)},Se=async()=>{if(i.value.trim())try{n.value=await Cf(i.value),Dp(n.value.username),o.value=!1,await D(),await q()}catch(F){console.error("Error joining chat:",F)}};return As(()=>{Pe.on("new_message",F=>{e.value.push(F),P()})}),qr(()=>{Ip()}),(F,S)=>(N(),H("div",Gm,[oe(Wm),o.value?(N(),H("div",Qm,[v("div",Xm,[S[13]||(S[13]=v("h2",{class:"text-2xl font-wizard text-purple-800 mb-6 text-center"},"Enter the Realm",-1)),v("form",{onSubmit:an(Se,["prevent"]),class:"space-y-4"},[v("div",null,[S[10]||(S[10]=v("label",{for:"username",class:"block text-sm font-wizard text-purple-600 mb-1"}," Choose your wizard name ",-1)),Gr(v("input",{id:"username","onUpdate:modelValue":S[0]||(S[0]=R=>i.value=R),type:"text",required:"",placeholder:"Enter your mystical name",class:"w-full px-4 py-2 border-2 border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 font-wizard"},null,512),[[Qr,i.value]])]),v("div",Zm,[S[11]||(S[11]=v("label",{class:"block text-sm font-wizard text-purple-600"}," Profile Picture ",-1)),v("input",{type:"file",accept:"image/*",onChange:B,class:"w-full text-sm text-purple-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-wizard file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"},null,32)]),S[12]||(S[12]=v("button",{type:"submit",class:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 font-wizard transition-all duration-300 transform hover:scale-105"}," Join the Magic Circle ",-1))],32)])])):(N(),H("div",ev,[v("div",tv,[S[14]||(S[14]=v("h3",{class:"font-wizard text-lg mb-4"},"Magic Chambers",-1)),v("div",rv,[(N(!0),H(_e,null,Bt(u.value,R=>{var Ae;return N(),H("button",{key:R.id,onClick:$e=>l.value=R,class:Be(["w-full p-2 text-left rounded-lg hover:bg-purple-50 transition-colors",{"bg-purple-100":((Ae=l.value)==null?void 0:Ae.id)===R.id}])},xe(R.name),11,sv)}),128))]),v("button",{onClick:S[1]||(S[1]=R=>p.value=!0),class:"mt-4 w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-wizard"}," Create Chamber ")]),v("div",nv,[v("div",{ref_key:"messageContainer",ref:s,class:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-purple-50 to-blue-50"},[(N(!0),H(_e,null,Bt(E.value,R=>{var Ae,$e,Ye,le,ee,K,Q,tt,At;return N(),H("div",{key:R.id,class:Be(["flex items-start space-x-2",{"justify-end":((Ae=R.user)==null?void 0:Ae.username)===n.value.username}])},[v("div",iv,[v("div",{class:Be(["bg-white p-3 rounded-lg shadow-sm max-w-[80%] transform transition-all duration-300 hover:scale-102",{"bg-purple-100":(($e=R.user)==null?void 0:$e.username)===n.value.username,"hover:shadow-purple-200":((Ye=R.user)==null?void 0:Ye.username)===n.value.username,"hover:shadow-blue-200":((le=R.user)==null?void 0:le.username)!==n.value.username}])},[v("div",ov,[v("img",{src:((ee=R.user)==null?void 0:ee.avatar_url)||"https://api.dicebear.com/7.x/avataaars/svg?seed="+((K=R.user)==null?void 0:K.username),class:"w-6 h-6 rounded-full",alt:(Q=R.user)==null?void 0:Q.username},null,8,av),v("p",lv,[Ar(xe(((tt=R.user)==null?void 0:tt.username)||"Unknown Wizard")+" ",1),R.is_private?(N(),H("span",cv,"(private)")):Lt("",!0)])]),v("p",uv,xe((At=R.content.split(",")[0].split(":")[1])==null?void 0:At.replaceAll('"',"")),1),S[15]||(S[15]=Ar()),v("p",hv,xe(new Date(R.created_at).toLocaleTimeString()),1)],2),v("div",dv,[(N(!0),H(_e,null,Bt(R.message_reactions,ze=>{var Re;return N(),H("div",{key:ze.id,class:"bg-white px-2 py-1 rounded-full text-sm shadow-sm"},[Ar(xe(ze.emoji)+" ",1),v("span",fv,xe((Re=ze.reactor)==null?void 0:Re.username),1)])}),128))])])],2)}),128))],512),v("div",pv,[v("div",gv,[v("button",{onClick:S[2]||(S[2]=R=>c.value=!c.value),class:"p-2 rounded-lg hover:bg-purple-50"}," 😊 "),h.value?(N(),H("div",mv,[v("span",vv,"To: "+xe(h.value.username),1),v("button",{onClick:S[3]||(S[3]=R=>h.value=null),class:"text-purple-500 hover:text-purple-700"},"×")])):Lt("",!0)]),v("form",{onSubmit:an(pe,["prevent"]),class:"flex space-x-2"},[Gr(v("input",{"onUpdate:modelValue":S[4]||(S[4]=R=>r.value=R),type:"text",placeholder:"Cast your message...",class:"flex-1 px-4 py-2 border-2 border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 font-wizard",onInput:he},null,544),[[Qr,r.value]]),S[16]||(S[16]=v("button",{type:"submit",class:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 font-wizard transition-all duration-300 transform hover:scale-105"}," Send ✨ ",-1))],32),a.value?(N(),H("div",_v," Casting spell... ")):Lt("",!0)])])])),p.value?(N(),H("div",yv,[v("div",wv,[S[20]||(S[20]=v("h3",{class:"text-xl font-wizard text-purple-800 mb-4"},"Create New Chamber",-1)),v("form",{onSubmit:an(V,["prevent"]),class:"space-y-4"},[v("div",null,[S[17]||(S[17]=v("label",{class:"block text-sm font-wizard text-purple-600 mb-1"},"Chamber Name",-1)),Gr(v("input",{"onUpdate:modelValue":S[5]||(S[5]=R=>g.value=R),type:"text",required:"",placeholder:"Enter chamber name",class:"w-full px-4 py-2 border-2 border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[Qr,g.value]])]),v("div",null,[S[18]||(S[18]=v("label",{class:"block text-sm font-wizard text-purple-600 mb-1"},"Description",-1)),Gr(v("textarea",{"onUpdate:modelValue":S[6]||(S[6]=R=>_.value=R),placeholder:"Enter chamber description",class:"w-full px-4 py-2 border-2 border-purple-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"},null,512),[[Qr,_.value]])]),v("div",bv,[v("button",{type:"button",onClick:S[7]||(S[7]=R=>p.value=!1),class:"px-4 py-2 text-purple-600 hover:bg-purple-50 rounded-lg font-wizard"}," Cancel "),S[19]||(S[19]=v("button",{type:"submit",class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-wizard"}," Create ",-1))])],32)])])):Lt("",!0),c.value?(N(),Ba(Jm,{key:3,onSelect:S[8]||(S[8]=R=>{F.selectedMessage?A(F.selectedMessage.id,R):r.value+=R,c.value=!1}),onClose:S[9]||(S[9]=R=>c.value=!1)})):Lt("",!0)]))}},Tv={class:"flex h-screen bg-gray-50"},kv={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ev={key:0,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},Sv={key:1,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"},Ov={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Cv={key:0,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},Pv={key:1,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 6l6 6-6 6"},Av={class:"flex-1 relative"},$v={__name:"App",setup(t){const e=ie(!1),r=ie(!0),s=()=>{e.value=!e.value},n=()=>{r.value=!r.value};return(i,o)=>(N(),H("div",Tv,[v("button",{onClick:s,class:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-gray-900 text-white shadow-lg hover:bg-gray-800 transition-colors"},[(N(),H("svg",kv,[e.value?(N(),H("path",Ev)):(N(),H("path",Sv))]))]),v("button",{onClick:n,class:"lg:hidden fixed top-4 right-4 z-50 p-2 rounded-lg bg-gray-900 text-white shadow-lg hover:bg-gray-800 transition-colors"},[(N(),H("svg",Ov,[r.value?(N(),H("path",Cv)):(N(),H("path",Pv))]))]),v("div",{class:Be(["fixed inset-y-0 left-0 lg:relative lg:translate-x-0 transition-transform duration-300 ease-in-out z-40",e.value?"translate-x-0":"-translate-x-full"])},[oe(Uf,{onCloseSidebar:o[0]||(o[0]=a=>e.value=!1)})],2),v("div",Av,[oe(xv)]),v("div",{class:Be(["fixed inset-y-0 right-0 lg:relative lg:translate-x-0 transition-transform duration-300 ease-in-out z-40",r.value?"translate-x-0":"translate-x-full"])},[oe(Qp,{onClose:o[1]||(o[1]=a=>r.value=!1)})],2)]))}};rh($v).mount("#app");export{yi as g};
